  [1m[35m (4.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (13.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2024-08-13 06:00:19.251654', '2024-08-13 06:00:19.251656') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateEvents (20191005105728)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "events" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "employee_id" integer, "timestamp" datetime, "kind" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20191005105728') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (4.6ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:00:23 +0300
  
SyntaxError (/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
      render json { error: event.error.full_messages },...
                         ^
/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
...or: event.error.full_messages }, status: :unprocessable_enti...
...                              ^
):
  
app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:00:23 +0300
  
SyntaxError (/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
      render json { error: event.error.full_messages },...
                         ^
/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
...or: event.error.full_messages }, status: :unprocessable_enti...
...                              ^
):
  
app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:00:23 +0300
  
SyntaxError (/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
      render json { error: event.error.full_messages },...
                         ^
/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
...or: event.error.full_messages }, status: :unprocessable_enti...
...                              ^
):
  
app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:00:23 +0300
  
SyntaxError (/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
      render json { error: event.error.full_messages },...
                         ^
/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
...or: event.error.full_messages }, status: :unprocessable_enti...
...                              ^
):
  
app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:00:24 +0300
  
SyntaxError (/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
      render json { error: event.error.full_messages },...
                         ^
/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
...or: event.error.full_messages }, status: :unprocessable_enti...
...                              ^
):
  
app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:00:24 +0300
  
SyntaxError (/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
      render json { error: event.error.full_messages },...
                         ^
/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
...or: event.error.full_messages }, status: :unprocessable_enti...
...                              ^
):
  
app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:00:24 +0300
  
SyntaxError (/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
      render json { error: event.error.full_messages },...
                         ^
/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
...or: event.error.full_messages }, status: :unprocessable_enti...
...                              ^
):
  
app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
Started GET "/reports/bad/2019-01-01/2019-02-02" for 127.0.0.1 at 2024-08-13 09:00:24 +0300
  
NameError (undefined local variable or method `params' for ReportsController:Class

    employee_id: params[:employee_id],
                 ^^^^^^):
  
app/controllers/reports_controller.rb:5:in `<class:ReportsController>'
app/controllers/reports_controller.rb:3:in `<main>'
Started GET "/reports/1/2019-01-01/bad" for 127.0.0.1 at 2024-08-13 09:00:24 +0300
  
NameError (undefined local variable or method `params' for ReportsController:Class

    employee_id: params[:employee_id],
                 ^^^^^^):
  
app/controllers/reports_controller.rb:5:in `<class:ReportsController>'
app/controllers/reports_controller.rb:3:in `<main>'
Started GET "/reports/1/bad/2019-01-01" for 127.0.0.1 at 2024-08-13 09:00:24 +0300
  
NameError (undefined local variable or method `params' for ReportsController:Class

    employee_id: params[:employee_id],
                 ^^^^^^):
  
app/controllers/reports_controller.rb:5:in `<class:ReportsController>'
app/controllers/reports_controller.rb:3:in `<main>'
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:00:24 +0300
  
SyntaxError (/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
      render json { error: event.error.full_messages },...
                         ^
/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
...or: event.error.full_messages }, status: :unprocessable_enti...
...                              ^
):
  
app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:00:24 +0300
  
SyntaxError (/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
      render json { error: event.error.full_messages },...
                         ^
/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
...or: event.error.full_messages }, status: :unprocessable_enti...
...                              ^
):
  
app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:00:24 +0300
  
SyntaxError (/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
      render json { error: event.error.full_messages },...
                         ^
/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
...or: event.error.full_messages }, status: :unprocessable_enti...
...                              ^
):
  
app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:00:24 +0300
  
SyntaxError (/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
      render json { error: event.error.full_messages },...
                         ^
/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
...or: event.error.full_messages }, status: :unprocessable_enti...
...                              ^
):
  
app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (13.3ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:00:57 +0300
  
SyntaxError (/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
      render json { error: event.error.full_messages },...
                         ^
/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
...or: event.error.full_messages }, status: :unprocessable_enti...
...                              ^
):
  
app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:00:57 +0300
  
SyntaxError (/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
      render json { error: event.error.full_messages },...
                         ^
/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
...or: event.error.full_messages }, status: :unprocessable_enti...
...                              ^
):
  
app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:00:57 +0300
  
SyntaxError (/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
      render json { error: event.error.full_messages },...
                         ^
/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
...or: event.error.full_messages }, status: :unprocessable_enti...
...                              ^
):
  
app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:00:58 +0300
  
SyntaxError (/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
      render json { error: event.error.full_messages },...
                         ^
/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
...or: event.error.full_messages }, status: :unprocessable_enti...
...                              ^
):
  
app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:00:58 +0300
  
SyntaxError (/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
      render json { error: event.error.full_messages },...
                         ^
/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
...or: event.error.full_messages }, status: :unprocessable_enti...
...                              ^
):
  
app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:00:58 +0300
  
SyntaxError (/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
      render json { error: event.error.full_messages },...
                         ^
/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
...or: event.error.full_messages }, status: :unprocessable_enti...
...                              ^
):
  
app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:00:58 +0300
  
SyntaxError (/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
      render json { error: event.error.full_messages },...
                         ^
/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
...or: event.error.full_messages }, status: :unprocessable_enti...
...                              ^
):
  
app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
Started GET "/reports/bad/2019-01-01/2019-02-02" for 127.0.0.1 at 2024-08-13 09:00:58 +0300
  
NameError (undefined local variable or method `params' for ReportsController:Class

    employee_id: params[:employee_id],
                 ^^^^^^):
  
app/controllers/reports_controller.rb:5:in `<class:ReportsController>'
app/controllers/reports_controller.rb:3:in `<main>'
Started GET "/reports/1/2019-01-01/bad" for 127.0.0.1 at 2024-08-13 09:00:58 +0300
  
NameError (undefined local variable or method `params' for ReportsController:Class

    employee_id: params[:employee_id],
                 ^^^^^^):
  
app/controllers/reports_controller.rb:5:in `<class:ReportsController>'
app/controllers/reports_controller.rb:3:in `<main>'
Started GET "/reports/1/bad/2019-01-01" for 127.0.0.1 at 2024-08-13 09:00:58 +0300
  
NameError (undefined local variable or method `params' for ReportsController:Class

    employee_id: params[:employee_id],
                 ^^^^^^):
  
app/controllers/reports_controller.rb:5:in `<class:ReportsController>'
app/controllers/reports_controller.rb:3:in `<main>'
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:00:58 +0300
  
SyntaxError (/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
      render json { error: event.error.full_messages },...
                         ^
/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
...or: event.error.full_messages }, status: :unprocessable_enti...
...                              ^
):
  
app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:00:58 +0300
  
SyntaxError (/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
      render json { error: event.error.full_messages },...
                         ^
/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
...or: event.error.full_messages }, status: :unprocessable_enti...
...                              ^
):
  
app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:00:58 +0300
  
SyntaxError (/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
      render json { error: event.error.full_messages },...
                         ^
/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
...or: event.error.full_messages }, status: :unprocessable_enti...
...                              ^
):
  
app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:00:58 +0300
  
SyntaxError (/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
      render json { error: event.error.full_messages },...
                         ^
/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
...or: event.error.full_messages }, status: :unprocessable_enti...
...                              ^
):
  
app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (13.2ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:01:18 +0300
  
SyntaxError (/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
      render json { error: event.error.full_messages },...
                         ^
/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
...or: event.error.full_messages }, status: :unprocessable_enti...
...                              ^
):
  
app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (13.0ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:01:52 +0300
  
SyntaxError (/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
      render json { error: event.error.full_messages },...
                         ^
/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
...or: event.error.full_messages }, status: :unprocessable_enti...
...                              ^
):
  
app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (7.5ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:04:00 +0300
  
SyntaxError (/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
      render json { error: event.error.full_messages },...
                         ^
/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
...or: event.error.full_messages }, status: :unprocessable_enti...
...                              ^
):
  
app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (9.8ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:04:52 +0300
  
SyntaxError (/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:11: syntax error, unexpected ':', expecting '}'
      render json { error: event.error.full_messages },...
                         ^
/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:11: syntax error, unexpected '}', expecting `end'
...or: event.error.full_messages }, status: :unprocessable_enti...
...                              ^
):
  
app/controllers/events_controller.rb:11: syntax error, unexpected ':', expecting '}'
app/controllers/events_controller.rb:11: syntax error, unexpected '}', expecting `end'
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (13.3ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:05:14 +0300
  
SyntaxError (/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:9: syntax error, unexpected ':', expecting '}'
      render json { error: event.error.full_messages },...
                         ^
/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:9: syntax error, unexpected '}', expecting `end'
...or: event.error.full_messages }, status: :unprocessable_enti...
...                              ^
):
  
app/controllers/events_controller.rb:9: syntax error, unexpected ':', expecting '}'
app/controllers/events_controller.rb:9: syntax error, unexpected '}', expecting `end'
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (14.0ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:05:29 +0300
  
SyntaxError (/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
      render json { error: event.error.full_messages },...
                         ^
/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
...or: event.error.full_messages }, status: :unprocessable_enti...
...                              ^
):
  
app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (4.5ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:07:13 +0300
  
SyntaxError (/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
      render json { error: event.error.full_messages },...
                         ^
/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
...or: event.error.full_messages }, status: :unprocessable_enti...
...                              ^
):
  
app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (13.0ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:07:52 +0300
  
SyntaxError (/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
      render json { error: event.error.full_messages },...
                         ^
/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
...or: event.error.full_messages }, status: :unprocessable_enti...
...                              ^
):
  
app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:07:52 +0300
  
SyntaxError (/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
      render json { error: event.error.full_messages },...
                         ^
/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
...or: event.error.full_messages }, status: :unprocessable_enti...
...                              ^
):
  
app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:07:53 +0300
  
SyntaxError (/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
      render json { error: event.error.full_messages },...
                         ^
/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
...or: event.error.full_messages }, status: :unprocessable_enti...
...                              ^
):
  
app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:07:53 +0300
  
SyntaxError (/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
      render json { error: event.error.full_messages },...
                         ^
/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
...or: event.error.full_messages }, status: :unprocessable_enti...
...                              ^
):
  
app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:07:53 +0300
  
SyntaxError (/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
      render json { error: event.error.full_messages },...
                         ^
/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
...or: event.error.full_messages }, status: :unprocessable_enti...
...                              ^
):
  
app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:07:53 +0300
  
SyntaxError (/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
      render json { error: event.error.full_messages },...
                         ^
/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
...or: event.error.full_messages }, status: :unprocessable_enti...
...                              ^
):
  
app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:07:53 +0300
  
SyntaxError (/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
      render json { error: event.error.full_messages },...
                         ^
/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
...or: event.error.full_messages }, status: :unprocessable_enti...
...                              ^
):
  
app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:07:53 +0300
  
SyntaxError (/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
      render json { error: event.error.full_messages },...
                         ^
/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
...or: event.error.full_messages }, status: :unprocessable_enti...
...                              ^
):
  
app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:07:53 +0300
  
SyntaxError (/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
      render json { error: event.error.full_messages },...
                         ^
/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
...or: event.error.full_messages }, status: :unprocessable_enti...
...                              ^
):
  
app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:07:53 +0300
  
SyntaxError (/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
      render json { error: event.error.full_messages },...
                         ^
/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
...or: event.error.full_messages }, status: :unprocessable_enti...
...                              ^
):
  
app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:07:53 +0300
  
SyntaxError (/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
      render json { error: event.error.full_messages },...
                         ^
/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
...or: event.error.full_messages }, status: :unprocessable_enti...
...                              ^
):
  
app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
Started GET "/reports/1/bad/2019-01-01" for 127.0.0.1 at 2024-08-13 09:07:53 +0300
  
NameError (undefined local variable or method `params' for ReportsController:Class

    employee_id: params[:employee_id],
                 ^^^^^^):
  
app/controllers/reports_controller.rb:5:in `<class:ReportsController>'
app/controllers/reports_controller.rb:3:in `<main>'
Started GET "/reports/bad/2019-01-01/2019-02-02" for 127.0.0.1 at 2024-08-13 09:07:53 +0300
  
NameError (undefined local variable or method `params' for ReportsController:Class

    employee_id: params[:employee_id],
                 ^^^^^^):
  
app/controllers/reports_controller.rb:5:in `<class:ReportsController>'
app/controllers/reports_controller.rb:3:in `<main>'
Started GET "/reports/1/2019-01-01/bad" for 127.0.0.1 at 2024-08-13 09:07:53 +0300
  
NameError (undefined local variable or method `params' for ReportsController:Class

    employee_id: params[:employee_id],
                 ^^^^^^):
  
app/controllers/reports_controller.rb:5:in `<class:ReportsController>'
app/controllers/reports_controller.rb:3:in `<main>'
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (13.1ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:10:15 +0300
  
SyntaxError (/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
      render json { error: event.error.full_messages },...
                         ^
/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
...or: event.error.full_messages }, status: :unprocessable_enti...
...                              ^
):
  
app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:10:15 +0300
  
SyntaxError (/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
      render json { error: event.error.full_messages },...
                         ^
/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
...or: event.error.full_messages }, status: :unprocessable_enti...
...                              ^
):
  
app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:10:15 +0300
  
SyntaxError (/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
      render json { error: event.error.full_messages },...
                         ^
/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
...or: event.error.full_messages }, status: :unprocessable_enti...
...                              ^
):
  
app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:10:15 +0300
  
SyntaxError (/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
      render json { error: event.error.full_messages },...
                         ^
/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
...or: event.error.full_messages }, status: :unprocessable_enti...
...                              ^
):
  
app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:10:15 +0300
  
SyntaxError (/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
      render json { error: event.error.full_messages },...
                         ^
/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
...or: event.error.full_messages }, status: :unprocessable_enti...
...                              ^
):
  
app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:10:15 +0300
  
SyntaxError (/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
      render json { error: event.error.full_messages },...
                         ^
/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
...or: event.error.full_messages }, status: :unprocessable_enti...
...                              ^
):
  
app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:10:15 +0300
  
SyntaxError (/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
      render json { error: event.error.full_messages },...
                         ^
/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
...or: event.error.full_messages }, status: :unprocessable_enti...
...                              ^
):
  
app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
Started GET "/reports/bad/2019-01-01/2019-02-02" for 127.0.0.1 at 2024-08-13 09:10:15 +0300
  
NameError (undefined local variable or method `params' for ReportsController:Class

    employee_id: params[:employee_id],
                 ^^^^^^):
  
app/controllers/reports_controller.rb:5:in `<class:ReportsController>'
app/controllers/reports_controller.rb:3:in `<main>'
Started GET "/reports/1/bad/2019-01-01" for 127.0.0.1 at 2024-08-13 09:10:15 +0300
  
NameError (undefined local variable or method `params' for ReportsController:Class

    employee_id: params[:employee_id],
                 ^^^^^^):
  
app/controllers/reports_controller.rb:5:in `<class:ReportsController>'
app/controllers/reports_controller.rb:3:in `<main>'
Started GET "/reports/1/2019-01-01/bad" for 127.0.0.1 at 2024-08-13 09:10:15 +0300
  
NameError (undefined local variable or method `params' for ReportsController:Class

    employee_id: params[:employee_id],
                 ^^^^^^):
  
app/controllers/reports_controller.rb:5:in `<class:ReportsController>'
app/controllers/reports_controller.rb:3:in `<main>'
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:10:15 +0300
  
SyntaxError (/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
      render json { error: event.error.full_messages },...
                         ^
/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
...or: event.error.full_messages }, status: :unprocessable_enti...
...                              ^
):
  
app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:10:15 +0300
  
SyntaxError (/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
      render json { error: event.error.full_messages },...
                         ^
/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
...or: event.error.full_messages }, status: :unprocessable_enti...
...                              ^
):
  
app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:10:16 +0300
  
SyntaxError (/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
      render json { error: event.error.full_messages },...
                         ^
/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
...or: event.error.full_messages }, status: :unprocessable_enti...
...                              ^
):
  
app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:10:16 +0300
  
SyntaxError (/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
      render json { error: event.error.full_messages },...
                         ^
/home/hyperionel/Desktop/774b2214-ad0b-4f76-aefd-5329ca9053b4/app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
...or: event.error.full_messages }, status: :unprocessable_enti...
...                              ^
):
  
app/controllers/events_controller.rb:10: syntax error, unexpected ':', expecting '}'
app/controllers/events_controller.rb:10: syntax error, unexpected '}', expecting `end'
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (13.0ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started GET "/reports/1/bad/2019-01-01" for 127.0.0.1 at 2024-08-13 09:11:43 +0300
  
NameError (undefined local variable or method `params' for ReportsController:Class

    employee_id: params[:employee_id],
                 ^^^^^^):
  
app/controllers/reports_controller.rb:5:in `<class:ReportsController>'
app/controllers/reports_controller.rb:3:in `<main>'
Started GET "/reports/1/2019-01-01/bad" for 127.0.0.1 at 2024-08-13 09:11:43 +0300
  
NameError (undefined local variable or method `params' for ReportsController:Class

    employee_id: params[:employee_id],
                 ^^^^^^):
  
app/controllers/reports_controller.rb:5:in `<class:ReportsController>'
app/controllers/reports_controller.rb:3:in `<main>'
Started GET "/reports/bad/2019-01-01/2019-02-02" for 127.0.0.1 at 2024-08-13 09:11:43 +0300
  
NameError (undefined local variable or method `params' for ReportsController:Class

    employee_id: params[:employee_id],
                 ^^^^^^):
  
app/controllers/reports_controller.rb:5:in `<class:ReportsController>'
app/controllers/reports_controller.rb:3:in `<main>'
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:11:43 +0300
Processing by EventsController#save as HTML
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.3ms (0 queries, 0 cached) | GC: 0.6ms)
  
NoMethodError (undefined method `error' for #<Event id: nil, employee_id: nil, timestamp: nil, kind: nil, created_at: nil, updated_at: nil>
Did you mean?  errors):
  
app/controllers/events_controller.rb:9:in `save'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:11:43 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>nil, "kind"=>"in", "timestamp"=>"1723529503"}
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.3ms)
  
NoMethodError (undefined method `error' for #<Event id: nil, employee_id: nil, timestamp: nil, kind: 0, created_at: nil, updated_at: nil>
Did you mean?  errors):
  
app/controllers/events_controller.rb:9:in `save'
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:11:43 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "kind"=>"bad", "timestamp"=>"1723529503"}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)
  
NoMethodError (undefined method `error' for #<Event id: nil, employee_id: 1, timestamp: nil, kind: 0, created_at: nil, updated_at: nil>
Did you mean?  errors):
  
app/controllers/events_controller.rb:9:in `save'
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:11:43 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"bad", "kind"=>"in", "timestamp"=>"1723529503"}
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 1.4ms)
  
NoMethodError (undefined method `error' for #<Event id: nil, employee_id: 0, timestamp: nil, kind: 0, created_at: nil, updated_at: nil>
Did you mean?  errors):
  
app/controllers/events_controller.rb:9:in `save'
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:11:43 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "kind"=>"in", "timestamp"=>nil}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)
  
NoMethodError (undefined method `error' for #<Event id: nil, employee_id: 1, timestamp: nil, kind: 0, created_at: nil, updated_at: nil>
Did you mean?  errors):
  
app/controllers/events_controller.rb:9:in `save'
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:11:43 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "kind"=>"in", "timestamp"=>"bad"}
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)
  
NoMethodError (undefined method `error' for #<Event id: nil, employee_id: 1, timestamp: nil, kind: 0, created_at: nil, updated_at: nil>
Did you mean?  errors):
  
app/controllers/events_controller.rb:9:in `save'
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:11:43 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "kind"=>nil, "timestamp"=>"1723529503"}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)
  
NoMethodError (undefined method `error' for #<Event id: nil, employee_id: 1, timestamp: nil, kind: nil, created_at: nil, updated_at: nil>
Did you mean?  errors):
  
app/controllers/events_controller.rb:9:in `save'
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:11:43 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 1.3ms)
  
NoMethodError (undefined method `error' for #<Event id: nil, employee_id: 1, timestamp: nil, kind: 0, created_at: nil, updated_at: nil>
Did you mean?  errors):
  
app/controllers/events_controller.rb:9:in `save'
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:11:43 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 1.4ms)
  
NoMethodError (undefined method `error' for #<Event id: nil, employee_id: 1, timestamp: nil, kind: 0, created_at: nil, updated_at: nil>
Did you mean?  errors):
  
app/controllers/events_controller.rb:9:in `save'
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:11:44 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556687400", "kind"=>"in"}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.3ms)
  
NoMethodError (undefined method `error' for #<Event id: nil, employee_id: 1, timestamp: nil, kind: 0, created_at: nil, updated_at: nil>
Did you mean?  errors):
  
app/controllers/events_controller.rb:9:in `save'
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:11:44 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.3ms)
  
NoMethodError (undefined method `error' for #<Event id: nil, employee_id: 1, timestamp: nil, kind: 0, created_at: nil, updated_at: nil>
Did you mean?  errors):
  
app/controllers/events_controller.rb:9:in `save'
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (13.1ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:12:10 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Completed 422 Unprocessable Content in 30ms (Views: 0.1ms | ActiveRecord: 0.3ms (0 queries, 0 cached) | GC: 24.6ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:12:10 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
Completed 422 Unprocessable Content in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.1ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:12:10 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556687400", "kind"=>"in"}
Completed 422 Unprocessable Content in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:12:10 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
Completed 422 Unprocessable Content in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.1ms)
Started GET "/reports/bad/2019-01-01/2019-02-02" for 127.0.0.1 at 2024-08-13 09:12:10 +0300
  
NameError (undefined local variable or method `params' for ReportsController:Class

    employee_id: params[:employee_id],
                 ^^^^^^):
  
app/controllers/reports_controller.rb:5:in `<class:ReportsController>'
app/controllers/reports_controller.rb:3:in `<main>'
Started GET "/reports/1/bad/2019-01-01" for 127.0.0.1 at 2024-08-13 09:12:10 +0300
  
NameError (undefined local variable or method `params' for ReportsController:Class

    employee_id: params[:employee_id],
                 ^^^^^^):
  
app/controllers/reports_controller.rb:5:in `<class:ReportsController>'
app/controllers/reports_controller.rb:3:in `<main>'
Started GET "/reports/1/2019-01-01/bad" for 127.0.0.1 at 2024-08-13 09:12:10 +0300
  
NameError (undefined local variable or method `params' for ReportsController:Class

    employee_id: params[:employee_id],
                 ^^^^^^):
  
app/controllers/reports_controller.rb:5:in `<class:ReportsController>'
app/controllers/reports_controller.rb:3:in `<main>'
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:12:10 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "kind"=>"in", "timestamp"=>nil}
Completed 422 Unprocessable Content in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.1ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:12:10 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>nil, "kind"=>"in", "timestamp"=>"1723529530"}
Completed 422 Unprocessable Content in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:12:10 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"bad", "kind"=>"in", "timestamp"=>"1723529530"}
Completed 422 Unprocessable Content in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.1ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:12:10 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "kind"=>"in", "timestamp"=>"bad"}
Completed 422 Unprocessable Content in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.1ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:12:10 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "kind"=>"bad", "timestamp"=>"1723529530"}
Completed 422 Unprocessable Content in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:12:10 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "kind"=>nil, "timestamp"=>"1723529530"}
Completed 422 Unprocessable Content in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:12:10 +0300
Processing by EventsController#save as HTML
Completed 422 Unprocessable Content in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.1ms)
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (13.1ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:12:38 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Completed 422 Unprocessable Content in 29ms (Views: 0.1ms | ActiveRecord: 0.2ms (0 queries, 0 cached) | GC: 23.3ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (13.1ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:12:49 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Completed 422 Unprocessable Content in 249794ms (Views: 0.1ms | ActiveRecord: 0.2ms (0 queries, 0 cached) | GC: 23.7ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (13.0ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:17:01 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Completed 422 Unprocessable Content in 222254ms (Views: 0.2ms | ActiveRecord: 0.2ms (0 queries, 0 cached) | GC: 27.5ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to ChangeKindColumnTypeInEvents (20240813062113)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aevents" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "employee_id" integer, "timestamp" datetime, "kind" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "aevents" ("id","employee_id","timestamp","kind","created_at","updated_at")
                     SELECT "id","employee_id","timestamp","kind","created_at","updated_at" FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE "events"[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "events" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "employee_id" integer, "timestamp" datetime, "kind" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "events" ("id","employee_id","timestamp","kind","created_at","updated_at")
                     SELECT "id","employee_id","timestamp","kind","created_at","updated_at" FROM "aevents"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE "aevents"[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20240813062113') RETURNING "version"[0m
  [1m[36mTRANSACTION (6.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (5.7ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:22:57 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"bad", "kind"=>"in", "timestamp"=>"1723530177"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Completed 422 Unprocessable Content in 49408ms (Views: 0.1ms | ActiveRecord: 0.3ms (0 queries, 0 cached) | GC: 25.9ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:23:46 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "kind"=>"in", "timestamp"=>"bad"}
Completed 422 Unprocessable Content in 36329ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:24:23 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>nil, "kind"=>"in", "timestamp"=>"1723530263"}
Completed 422 Unprocessable Content in 11793ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:24:34 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "kind"=>nil, "timestamp"=>"1723530274"}
Completed 422 Unprocessable Content in 4589ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:24:39 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "kind"=>"in", "timestamp"=>nil}
Completed 422 Unprocessable Content in 6129ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:24:45 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "kind"=>"bad", "timestamp"=>"1723530285"}
Completed 422 Unprocessable Content in 7174ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:24:52 +0300
Processing by EventsController#save as HTML
Completed 422 Unprocessable Content in 4637ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started GET "/reports/1/2019-01-01/bad" for 127.0.0.1 at 2024-08-13 09:24:57 +0300
  
NameError (undefined local variable or method `params' for ReportsController:Class

    employee_id: params[:employee_id],
                 ^^^^^^):
  
app/controllers/reports_controller.rb:5:in `<class:ReportsController>'
app/controllers/reports_controller.rb:3:in `<main>'
Started GET "/reports/1/bad/2019-01-01" for 127.0.0.1 at 2024-08-13 09:24:57 +0300
  
NameError (undefined local variable or method `params' for ReportsController:Class

    employee_id: params[:employee_id],
                 ^^^^^^):
  
app/controllers/reports_controller.rb:5:in `<class:ReportsController>'
app/controllers/reports_controller.rb:3:in `<main>'
Started GET "/reports/bad/2019-01-01/2019-02-02" for 127.0.0.1 at 2024-08-13 09:24:57 +0300
  
NameError (undefined local variable or method `params' for ReportsController:Class

    employee_id: params[:employee_id],
                 ^^^^^^):
  
app/controllers/reports_controller.rb:5:in `<class:ReportsController>'
app/controllers/reports_controller.rb:3:in `<main>'
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:24:57 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556687400", "kind"=>"in"}
Completed 422 Unprocessable Content in 248145ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.9ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:29:05 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
Completed 422 Unprocessable Content in 1687ms (Views: 0.2ms | ActiveRecord: 0.4ms (0 queries, 0 cached) | GC: 2.9ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:29:07 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
Completed 422 Unprocessable Content in 1515ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.6ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:29:09 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
Completed 422 Unprocessable Content in 1489ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.5ms)
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (12.9ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:29:32 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "kind"=>nil, "timestamp"=>"1723530572"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Completed 422 Unprocessable Content in 30ms (Views: 0.1ms | ActiveRecord: 4.3ms (0 queries, 0 cached) | GC: 24.8ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:29:32 +0300
Processing by EventsController#save as HTML
Completed 422 Unprocessable Content in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.1ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:29:32 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"bad", "kind"=>"in", "timestamp"=>"1723530572"}
Completed 422 Unprocessable Content in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.1ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:29:32 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "kind"=>"bad", "timestamp"=>"1723530572"}
Completed 422 Unprocessable Content in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.1ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:29:32 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "kind"=>"in", "timestamp"=>nil}
Completed 422 Unprocessable Content in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:29:32 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>nil, "kind"=>"in", "timestamp"=>"1723530572"}
Completed 422 Unprocessable Content in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.1ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:29:32 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "kind"=>"in", "timestamp"=>"bad"}
Completed 422 Unprocessable Content in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.1ms)
Started GET "/reports/1/2019-01-01/bad" for 127.0.0.1 at 2024-08-13 09:29:32 +0300
  
NameError (undefined local variable or method `params' for ReportsController:Class

    employee_id: params[:employee_id],
                 ^^^^^^):
  
app/controllers/reports_controller.rb:5:in `<class:ReportsController>'
app/controllers/reports_controller.rb:3:in `<main>'
Started GET "/reports/bad/2019-01-01/2019-02-02" for 127.0.0.1 at 2024-08-13 09:29:32 +0300
  
NameError (undefined local variable or method `params' for ReportsController:Class

    employee_id: params[:employee_id],
                 ^^^^^^):
  
app/controllers/reports_controller.rb:5:in `<class:ReportsController>'
app/controllers/reports_controller.rb:3:in `<main>'
Started GET "/reports/1/bad/2019-01-01" for 127.0.0.1 at 2024-08-13 09:29:32 +0300
  
NameError (undefined local variable or method `params' for ReportsController:Class

    employee_id: params[:employee_id],
                 ^^^^^^):
  
app/controllers/reports_controller.rb:5:in `<class:ReportsController>'
app/controllers/reports_controller.rb:3:in `<main>'
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:29:32 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556687400", "kind"=>"in"}
Completed 422 Unprocessable Content in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:29:32 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
Completed 422 Unprocessable Content in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:29:32 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
Completed 422 Unprocessable Content in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:29:32 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
Completed 422 Unprocessable Content in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (13.1ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:29:37 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Completed 422 Unprocessable Content in 29ms (Views: 0.1ms | ActiveRecord: 0.2ms (0 queries, 0 cached) | GC: 24.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (13.1ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:29:47 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Completed 422 Unprocessable Content in 26502ms (Views: 0.1ms | ActiveRecord: 0.2ms (0 queries, 0 cached) | GC: 25.9ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.2ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (14.6ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:30:27 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Completed 422 Unprocessable Content in 28ms (Views: 0.1ms | ActiveRecord: 6.7ms (0 queries, 0 cached) | GC: 23.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (12.9ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:30:48 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Completed 422 Unprocessable Content in 29ms (Views: 0.1ms | ActiveRecord: 0.2ms (0 queries, 0 cached) | GC: 24.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (12.9ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:31:10 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Completed 422 Unprocessable Content in 55794ms (Views: 0.1ms | ActiveRecord: 0.2ms (0 queries, 0 cached) | GC: 24.5ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (12.9ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:32:07 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.2ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", "in"], ["created_at", "2024-08-13 06:32:21.618034"], ["updated_at", "2024-08-13 06:32:21.618034"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 14010ms (Views: 0.1ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 24.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:32:21 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556715600", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.2ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", "out"], ["created_at", "2024-08-13 06:32:29.884215"], ["updated_at", "2024-08-13 06:32:29.884215"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8265ms (Views: 0.1ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:32:29 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556773200", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.2ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", "in"], ["created_at", "2024-08-13 06:32:31.715719"], ["updated_at", "2024-08-13 06:32:31.715719"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1831ms (Views: 0.1ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:32:31 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556802000", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.2ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", "out"], ["created_at", "2024-08-13 06:32:33.490178"], ["updated_at", "2024-08-13 06:32:33.490178"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1774ms (Views: 0.1ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/reports/1/2019-05-01/2019-05-30" for 127.0.0.1 at 2024-08-13 09:32:33 +0300
  
NameError (undefined local variable or method `params' for ReportsController:Class

    employee_id: params[:employee_id],
                 ^^^^^^):
  
app/controllers/reports_controller.rb:5:in `<class:ReportsController>'
app/controllers/reports_controller.rb:3:in `<main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (13.0ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:33:44 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.2ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", "in"], ["created_at", "2024-08-13 06:33:44.143701"], ["updated_at", "2024-08-13 06:33:44.143701"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 29ms (Views: 0.1ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 23.9ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:33:44 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556715600", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", "out"], ["created_at", "2024-08-13 06:33:44.145782"], ["updated_at", "2024-08-13 06:33:44.145782"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:33:44 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556773200", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", "in"], ["created_at", "2024-08-13 06:33:44.146872"], ["updated_at", "2024-08-13 06:33:44.146872"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:33:44 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556802000", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", "out"], ["created_at", "2024-08-13 06:33:44.147807"], ["updated_at", "2024-08-13 06:33:44.147807"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.1ms)
Started GET "/reports/1/2019-05-01/2019-05-30" for 127.0.0.1 at 2024-08-13 09:33:44 +0300
  
AbstractController::ActionNotFound (The action 'get' could not be found for ReportsController):
  
actionpack (7.2.0) lib/abstract_controller/base.rb:158:in `process'
actionpack (7.2.0) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (7.2.0) lib/action_controller/metal.rb:335:in `dispatch'
actionpack (7.2.0) lib/action_dispatch/routing/route_set.rb:67:in `dispatch'
actionpack (7.2.0) lib/action_dispatch/routing/route_set.rb:50:in `serve'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:53:in `block in serve'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:133:in `block in find_routes'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:126:in `each'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:126:in `find_routes'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:34:in `serve'
actionpack (7.2.0) lib/action_dispatch/routing/route_set.rb:896:in `call'
rack (3.1.7) lib/rack/etag.rb:29:in `call'
rack (3.1.7) lib/rack/conditional_get.rb:31:in `call'
rack (3.1.7) lib/rack/head.rb:15:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/callbacks.rb:31:in `block in call'
activesupport (7.2.0) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.2.0) lib/action_dispatch/middleware/callbacks.rb:30:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:31:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/show_exceptions.rb:32:in `call'
railties (7.2.0) lib/rails/rack/logger.rb:41:in `call_app'
railties (7.2.0) lib/rails/rack/logger.rb:29:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/remote_ip.rb:96:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/request_id.rb:33:in `call'
rack (3.1.7) lib/rack/runtime.rb:24:in `call'
activesupport (7.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/static.rb:27:in `call'
rack (3.1.7) lib/rack/sendfile.rb:114:in `call'
railties (7.2.0) lib/rails/engine.rb:535:in `call'
rack-test (2.1.0) lib/rack/test.rb:360:in `process_request'
rack-test (2.1.0) lib/rack/test.rb:153:in `request'
actionpack (7.2.0) lib/action_dispatch/testing/integration.rb:287:in `process'
actionpack (7.2.0) lib/action_dispatch/testing/integration.rb:19:in `get'
actionpack (7.2.0) lib/action_dispatch/testing/integration.rb:378:in `get'
spec/public_api.rb:21:in `get_report'
spec/public_api.rb:15:in `report'
spec/api_spec.rb:18:in `block (2 levels) in <top (required)>'
rspec-core (3.13.0) lib/rspec/core/example.rb:263:in `instance_exec'
rspec-core (3.13.0) lib/rspec/core/example.rb:263:in `block in run'
rspec-core (3.13.0) lib/rspec/core/example.rb:511:in `block in with_around_and_singleton_context_hooks'
rspec-core (3.13.0) lib/rspec/core/example.rb:468:in `block in with_around_example_hooks'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:486:in `block in run'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:626:in `block in run_around_example_hooks_for'
rspec-core (3.13.0) lib/rspec/core/example.rb:352:in `call'
rspec-rails (6.1.3) lib/rspec/rails/adapters.rb:75:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
rspec-core (3.13.0) lib/rspec/core/example.rb:457:in `instance_exec'
rspec-core (3.13.0) lib/rspec/core/example.rb:457:in `instance_exec'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:390:in `execute_with'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:628:in `block (2 levels) in run_around_example_hooks_for'
rspec-core (3.13.0) lib/rspec/core/example.rb:352:in `call'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:629:in `run_around_example_hooks_for'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:486:in `run'
rspec-core (3.13.0) lib/rspec/core/example.rb:468:in `with_around_example_hooks'
rspec-core (3.13.0) lib/rspec/core/example.rb:511:in `with_around_and_singleton_context_hooks'
rspec-core (3.13.0) lib/rspec/core/example.rb:259:in `run'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:646:in `block in run_examples'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:642:in `map'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:642:in `run_examples'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:607:in `run'
rspec-core (3.13.0) lib/rspec/core/runner.rb:121:in `block (3 levels) in run_specs'
rspec-core (3.13.0) lib/rspec/core/runner.rb:121:in `map'
rspec-core (3.13.0) lib/rspec/core/runner.rb:121:in `block (2 levels) in run_specs'
rspec-core (3.13.0) lib/rspec/core/configuration.rb:2091:in `with_suite_hooks'
rspec-core (3.13.0) lib/rspec/core/runner.rb:116:in `block in run_specs'
rspec-core (3.13.0) lib/rspec/core/reporter.rb:74:in `report'
rspec-core (3.13.0) lib/rspec/core/runner.rb:115:in `run_specs'
rspec-core (3.13.0) lib/rspec/core/runner.rb:89:in `run'
rspec-core (3.13.0) lib/rspec/core/runner.rb:71:in `run'
rspec-core (3.13.0) lib/rspec/core/runner.rb:45:in `invoke'
rspec-core (3.13.0) exe/rspec:4:in `<top (required)>'
/home/hyperionel/.asdf/installs/ruby/3.1.2/bin/rspec:25:in `load'
/home/hyperionel/.asdf/installs/ruby/3.1.2/bin/rspec:25:in `<main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (12.9ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:34:06 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.2ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", "in"], ["created_at", "2024-08-13 06:34:06.315407"], ["updated_at", "2024-08-13 06:34:06.315407"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 30ms (Views: 0.1ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 24.3ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:34:06 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556715600", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", "out"], ["created_at", "2024-08-13 06:34:06.317533"], ["updated_at", "2024-08-13 06:34:06.317533"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:34:06 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556773200", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", "in"], ["created_at", "2024-08-13 06:34:06.318665"], ["updated_at", "2024-08-13 06:34:06.318665"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:34:06 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556802000", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", "out"], ["created_at", "2024-08-13 06:34:06.319733"], ["updated_at", "2024-08-13 06:34:06.319733"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.1ms)
Started GET "/reports/1/2019-05-01/2019-05-30" for 127.0.0.1 at 2024-08-13 09:34:06 +0300
  
AbstractController::ActionNotFound (The action 'get' could not be found for ReportsController):
  
actionpack (7.2.0) lib/abstract_controller/base.rb:158:in `process'
actionpack (7.2.0) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (7.2.0) lib/action_controller/metal.rb:335:in `dispatch'
actionpack (7.2.0) lib/action_dispatch/routing/route_set.rb:67:in `dispatch'
actionpack (7.2.0) lib/action_dispatch/routing/route_set.rb:50:in `serve'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:53:in `block in serve'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:133:in `block in find_routes'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:126:in `each'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:126:in `find_routes'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:34:in `serve'
actionpack (7.2.0) lib/action_dispatch/routing/route_set.rb:896:in `call'
rack (3.1.7) lib/rack/etag.rb:29:in `call'
rack (3.1.7) lib/rack/conditional_get.rb:31:in `call'
rack (3.1.7) lib/rack/head.rb:15:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/callbacks.rb:31:in `block in call'
activesupport (7.2.0) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.2.0) lib/action_dispatch/middleware/callbacks.rb:30:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:31:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/show_exceptions.rb:32:in `call'
railties (7.2.0) lib/rails/rack/logger.rb:41:in `call_app'
railties (7.2.0) lib/rails/rack/logger.rb:29:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/remote_ip.rb:96:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/request_id.rb:33:in `call'
rack (3.1.7) lib/rack/runtime.rb:24:in `call'
activesupport (7.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/static.rb:27:in `call'
rack (3.1.7) lib/rack/sendfile.rb:114:in `call'
railties (7.2.0) lib/rails/engine.rb:535:in `call'
rack-test (2.1.0) lib/rack/test.rb:360:in `process_request'
rack-test (2.1.0) lib/rack/test.rb:153:in `request'
actionpack (7.2.0) lib/action_dispatch/testing/integration.rb:287:in `process'
actionpack (7.2.0) lib/action_dispatch/testing/integration.rb:19:in `get'
actionpack (7.2.0) lib/action_dispatch/testing/integration.rb:378:in `get'
spec/public_api.rb:21:in `get_report'
spec/public_api.rb:15:in `report'
spec/api_spec.rb:18:in `block (2 levels) in <top (required)>'
rspec-core (3.13.0) lib/rspec/core/example.rb:263:in `instance_exec'
rspec-core (3.13.0) lib/rspec/core/example.rb:263:in `block in run'
rspec-core (3.13.0) lib/rspec/core/example.rb:511:in `block in with_around_and_singleton_context_hooks'
rspec-core (3.13.0) lib/rspec/core/example.rb:468:in `block in with_around_example_hooks'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:486:in `block in run'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:626:in `block in run_around_example_hooks_for'
rspec-core (3.13.0) lib/rspec/core/example.rb:352:in `call'
rspec-rails (6.1.3) lib/rspec/rails/adapters.rb:75:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
rspec-core (3.13.0) lib/rspec/core/example.rb:457:in `instance_exec'
rspec-core (3.13.0) lib/rspec/core/example.rb:457:in `instance_exec'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:390:in `execute_with'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:628:in `block (2 levels) in run_around_example_hooks_for'
rspec-core (3.13.0) lib/rspec/core/example.rb:352:in `call'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:629:in `run_around_example_hooks_for'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:486:in `run'
rspec-core (3.13.0) lib/rspec/core/example.rb:468:in `with_around_example_hooks'
rspec-core (3.13.0) lib/rspec/core/example.rb:511:in `with_around_and_singleton_context_hooks'
rspec-core (3.13.0) lib/rspec/core/example.rb:259:in `run'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:646:in `block in run_examples'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:642:in `map'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:642:in `run_examples'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:607:in `run'
rspec-core (3.13.0) lib/rspec/core/runner.rb:121:in `block (3 levels) in run_specs'
rspec-core (3.13.0) lib/rspec/core/runner.rb:121:in `map'
rspec-core (3.13.0) lib/rspec/core/runner.rb:121:in `block (2 levels) in run_specs'
rspec-core (3.13.0) lib/rspec/core/configuration.rb:2091:in `with_suite_hooks'
rspec-core (3.13.0) lib/rspec/core/runner.rb:116:in `block in run_specs'
rspec-core (3.13.0) lib/rspec/core/reporter.rb:74:in `report'
rspec-core (3.13.0) lib/rspec/core/runner.rb:115:in `run_specs'
rspec-core (3.13.0) lib/rspec/core/runner.rb:89:in `run'
rspec-core (3.13.0) lib/rspec/core/runner.rb:71:in `run'
rspec-core (3.13.0) lib/rspec/core/runner.rb:45:in `invoke'
rspec-core (3.13.0) exe/rspec:4:in `<top (required)>'
/home/hyperionel/.asdf/installs/ruby/3.1.2/bin/rspec:25:in `load'
/home/hyperionel/.asdf/installs/ruby/3.1.2/bin/rspec:25:in `<main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:34:06 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.2ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", "in"], ["created_at", "2024-08-13 06:34:06.372350"], ["updated_at", "2024-08-13 06:34:06.372350"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:34:06 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556802000", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", "out"], ["created_at", "2024-08-13 06:34:06.373545"], ["updated_at", "2024-08-13 06:34:06.373545"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.1ms)
Started GET "/reports/1/2019-05-01/2019-05-30" for 127.0.0.1 at 2024-08-13 09:34:06 +0300
  
AbstractController::ActionNotFound (The action 'get' could not be found for ReportsController):
  
actionpack (7.2.0) lib/abstract_controller/base.rb:158:in `process'
actionpack (7.2.0) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (7.2.0) lib/action_controller/metal.rb:335:in `dispatch'
actionpack (7.2.0) lib/action_dispatch/routing/route_set.rb:67:in `dispatch'
actionpack (7.2.0) lib/action_dispatch/routing/route_set.rb:50:in `serve'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:53:in `block in serve'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:133:in `block in find_routes'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:126:in `each'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:126:in `find_routes'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:34:in `serve'
actionpack (7.2.0) lib/action_dispatch/routing/route_set.rb:896:in `call'
rack (3.1.7) lib/rack/etag.rb:29:in `call'
rack (3.1.7) lib/rack/conditional_get.rb:31:in `call'
rack (3.1.7) lib/rack/head.rb:15:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/callbacks.rb:31:in `block in call'
activesupport (7.2.0) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.2.0) lib/action_dispatch/middleware/callbacks.rb:30:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:31:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/show_exceptions.rb:32:in `call'
railties (7.2.0) lib/rails/rack/logger.rb:41:in `call_app'
railties (7.2.0) lib/rails/rack/logger.rb:29:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/remote_ip.rb:96:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/request_id.rb:33:in `call'
rack (3.1.7) lib/rack/runtime.rb:24:in `call'
activesupport (7.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/static.rb:27:in `call'
rack (3.1.7) lib/rack/sendfile.rb:114:in `call'
railties (7.2.0) lib/rails/engine.rb:535:in `call'
rack-test (2.1.0) lib/rack/test.rb:360:in `process_request'
rack-test (2.1.0) lib/rack/test.rb:153:in `request'
actionpack (7.2.0) lib/action_dispatch/testing/integration.rb:287:in `process'
actionpack (7.2.0) lib/action_dispatch/testing/integration.rb:19:in `get'
actionpack (7.2.0) lib/action_dispatch/testing/integration.rb:378:in `get'
spec/public_api.rb:21:in `get_report'
spec/public_api.rb:15:in `report'
spec/api_spec.rb:56:in `block (2 levels) in <top (required)>'
rspec-core (3.13.0) lib/rspec/core/example.rb:263:in `instance_exec'
rspec-core (3.13.0) lib/rspec/core/example.rb:263:in `block in run'
rspec-core (3.13.0) lib/rspec/core/example.rb:511:in `block in with_around_and_singleton_context_hooks'
rspec-core (3.13.0) lib/rspec/core/example.rb:468:in `block in with_around_example_hooks'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:486:in `block in run'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:626:in `block in run_around_example_hooks_for'
rspec-core (3.13.0) lib/rspec/core/example.rb:352:in `call'
rspec-rails (6.1.3) lib/rspec/rails/adapters.rb:75:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
rspec-core (3.13.0) lib/rspec/core/example.rb:457:in `instance_exec'
rspec-core (3.13.0) lib/rspec/core/example.rb:457:in `instance_exec'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:390:in `execute_with'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:628:in `block (2 levels) in run_around_example_hooks_for'
rspec-core (3.13.0) lib/rspec/core/example.rb:352:in `call'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:629:in `run_around_example_hooks_for'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:486:in `run'
rspec-core (3.13.0) lib/rspec/core/example.rb:468:in `with_around_example_hooks'
rspec-core (3.13.0) lib/rspec/core/example.rb:511:in `with_around_and_singleton_context_hooks'
rspec-core (3.13.0) lib/rspec/core/example.rb:259:in `run'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:646:in `block in run_examples'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:642:in `map'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:642:in `run_examples'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:607:in `run'
rspec-core (3.13.0) lib/rspec/core/runner.rb:121:in `block (3 levels) in run_specs'
rspec-core (3.13.0) lib/rspec/core/runner.rb:121:in `map'
rspec-core (3.13.0) lib/rspec/core/runner.rb:121:in `block (2 levels) in run_specs'
rspec-core (3.13.0) lib/rspec/core/configuration.rb:2091:in `with_suite_hooks'
rspec-core (3.13.0) lib/rspec/core/runner.rb:116:in `block in run_specs'
rspec-core (3.13.0) lib/rspec/core/reporter.rb:74:in `report'
rspec-core (3.13.0) lib/rspec/core/runner.rb:115:in `run_specs'
rspec-core (3.13.0) lib/rspec/core/runner.rb:89:in `run'
rspec-core (3.13.0) lib/rspec/core/runner.rb:71:in `run'
rspec-core (3.13.0) lib/rspec/core/runner.rb:45:in `invoke'
rspec-core (3.13.0) exe/rspec:4:in `<top (required)>'
/home/hyperionel/.asdf/installs/ruby/3.1.2/bin/rspec:25:in `load'
/home/hyperionel/.asdf/installs/ruby/3.1.2/bin/rspec:25:in `<main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:34:06 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556687400", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.3ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", "in"], ["created_at", "2024-08-13 06:34:06.423443"], ["updated_at", "2024-08-13 06:34:06.423443"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.1ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:34:06 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556715601", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", "out"], ["created_at", "2024-08-13 06:34:06.424668"], ["updated_at", "2024-08-13 06:34:06.424668"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/reports/1/2019-05-01/2019-05-01" for 127.0.0.1 at 2024-08-13 09:34:06 +0300
  
AbstractController::ActionNotFound (The action 'get' could not be found for ReportsController):
  
actionpack (7.2.0) lib/abstract_controller/base.rb:158:in `process'
actionpack (7.2.0) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (7.2.0) lib/action_controller/metal.rb:335:in `dispatch'
actionpack (7.2.0) lib/action_dispatch/routing/route_set.rb:67:in `dispatch'
actionpack (7.2.0) lib/action_dispatch/routing/route_set.rb:50:in `serve'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:53:in `block in serve'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:133:in `block in find_routes'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:126:in `each'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:126:in `find_routes'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:34:in `serve'
actionpack (7.2.0) lib/action_dispatch/routing/route_set.rb:896:in `call'
rack (3.1.7) lib/rack/etag.rb:29:in `call'
rack (3.1.7) lib/rack/conditional_get.rb:31:in `call'
rack (3.1.7) lib/rack/head.rb:15:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/callbacks.rb:31:in `block in call'
activesupport (7.2.0) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.2.0) lib/action_dispatch/middleware/callbacks.rb:30:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:31:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/show_exceptions.rb:32:in `call'
railties (7.2.0) lib/rails/rack/logger.rb:41:in `call_app'
railties (7.2.0) lib/rails/rack/logger.rb:29:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/remote_ip.rb:96:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/request_id.rb:33:in `call'
rack (3.1.7) lib/rack/runtime.rb:24:in `call'
activesupport (7.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/static.rb:27:in `call'
rack (3.1.7) lib/rack/sendfile.rb:114:in `call'
railties (7.2.0) lib/rails/engine.rb:535:in `call'
rack-test (2.1.0) lib/rack/test.rb:360:in `process_request'
rack-test (2.1.0) lib/rack/test.rb:153:in `request'
actionpack (7.2.0) lib/action_dispatch/testing/integration.rb:287:in `process'
actionpack (7.2.0) lib/action_dispatch/testing/integration.rb:19:in `get'
actionpack (7.2.0) lib/action_dispatch/testing/integration.rb:378:in `get'
spec/public_api.rb:21:in `get_report'
spec/public_api.rb:15:in `report'
spec/api_spec.rb:32:in `block (2 levels) in <top (required)>'
rspec-core (3.13.0) lib/rspec/core/example.rb:263:in `instance_exec'
rspec-core (3.13.0) lib/rspec/core/example.rb:263:in `block in run'
rspec-core (3.13.0) lib/rspec/core/example.rb:511:in `block in with_around_and_singleton_context_hooks'
rspec-core (3.13.0) lib/rspec/core/example.rb:468:in `block in with_around_example_hooks'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:486:in `block in run'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:626:in `block in run_around_example_hooks_for'
rspec-core (3.13.0) lib/rspec/core/example.rb:352:in `call'
rspec-rails (6.1.3) lib/rspec/rails/adapters.rb:75:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
rspec-core (3.13.0) lib/rspec/core/example.rb:457:in `instance_exec'
rspec-core (3.13.0) lib/rspec/core/example.rb:457:in `instance_exec'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:390:in `execute_with'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:628:in `block (2 levels) in run_around_example_hooks_for'
rspec-core (3.13.0) lib/rspec/core/example.rb:352:in `call'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:629:in `run_around_example_hooks_for'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:486:in `run'
rspec-core (3.13.0) lib/rspec/core/example.rb:468:in `with_around_example_hooks'
rspec-core (3.13.0) lib/rspec/core/example.rb:511:in `with_around_and_singleton_context_hooks'
rspec-core (3.13.0) lib/rspec/core/example.rb:259:in `run'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:646:in `block in run_examples'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:642:in `map'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:642:in `run_examples'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:607:in `run'
rspec-core (3.13.0) lib/rspec/core/runner.rb:121:in `block (3 levels) in run_specs'
rspec-core (3.13.0) lib/rspec/core/runner.rb:121:in `map'
rspec-core (3.13.0) lib/rspec/core/runner.rb:121:in `block (2 levels) in run_specs'
rspec-core (3.13.0) lib/rspec/core/configuration.rb:2091:in `with_suite_hooks'
rspec-core (3.13.0) lib/rspec/core/runner.rb:116:in `block in run_specs'
rspec-core (3.13.0) lib/rspec/core/reporter.rb:74:in `report'
rspec-core (3.13.0) lib/rspec/core/runner.rb:115:in `run_specs'
rspec-core (3.13.0) lib/rspec/core/runner.rb:89:in `run'
rspec-core (3.13.0) lib/rspec/core/runner.rb:71:in `run'
rspec-core (3.13.0) lib/rspec/core/runner.rb:45:in `invoke'
rspec-core (3.13.0) exe/rspec:4:in `<top (required)>'
/home/hyperionel/.asdf/installs/ruby/3.1.2/bin/rspec:25:in `load'
/home/hyperionel/.asdf/installs/ruby/3.1.2/bin/rspec:25:in `<main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:34:06 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.3ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", "in"], ["created_at", "2024-08-13 06:34:06.474063"], ["updated_at", "2024-08-13 06:34:06.474063"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.1ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:34:06 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556773200", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", "in"], ["created_at", "2024-08-13 06:34:06.475393"], ["updated_at", "2024-08-13 06:34:06.475393"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:34:06 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556802000", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", "out"], ["created_at", "2024-08-13 06:34:06.476448"], ["updated_at", "2024-08-13 06:34:06.476448"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.1ms)
Started GET "/reports/1/2019-05-01/2019-05-30" for 127.0.0.1 at 2024-08-13 09:34:06 +0300
  
AbstractController::ActionNotFound (The action 'get' could not be found for ReportsController):
  
actionpack (7.2.0) lib/abstract_controller/base.rb:158:in `process'
actionpack (7.2.0) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (7.2.0) lib/action_controller/metal.rb:335:in `dispatch'
actionpack (7.2.0) lib/action_dispatch/routing/route_set.rb:67:in `dispatch'
actionpack (7.2.0) lib/action_dispatch/routing/route_set.rb:50:in `serve'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:53:in `block in serve'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:133:in `block in find_routes'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:126:in `each'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:126:in `find_routes'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:34:in `serve'
actionpack (7.2.0) lib/action_dispatch/routing/route_set.rb:896:in `call'
rack (3.1.7) lib/rack/etag.rb:29:in `call'
rack (3.1.7) lib/rack/conditional_get.rb:31:in `call'
rack (3.1.7) lib/rack/head.rb:15:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/callbacks.rb:31:in `block in call'
activesupport (7.2.0) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.2.0) lib/action_dispatch/middleware/callbacks.rb:30:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:31:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/show_exceptions.rb:32:in `call'
railties (7.2.0) lib/rails/rack/logger.rb:41:in `call_app'
railties (7.2.0) lib/rails/rack/logger.rb:29:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/remote_ip.rb:96:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/request_id.rb:33:in `call'
rack (3.1.7) lib/rack/runtime.rb:24:in `call'
activesupport (7.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/static.rb:27:in `call'
rack (3.1.7) lib/rack/sendfile.rb:114:in `call'
railties (7.2.0) lib/rails/engine.rb:535:in `call'
rack-test (2.1.0) lib/rack/test.rb:360:in `process_request'
rack-test (2.1.0) lib/rack/test.rb:153:in `request'
actionpack (7.2.0) lib/action_dispatch/testing/integration.rb:287:in `process'
actionpack (7.2.0) lib/action_dispatch/testing/integration.rb:19:in `get'
actionpack (7.2.0) lib/action_dispatch/testing/integration.rb:378:in `get'
spec/public_api.rb:21:in `get_report'
spec/public_api.rb:15:in `report'
spec/api_spec.rb:42:in `block (2 levels) in <top (required)>'
rspec-core (3.13.0) lib/rspec/core/example.rb:263:in `instance_exec'
rspec-core (3.13.0) lib/rspec/core/example.rb:263:in `block in run'
rspec-core (3.13.0) lib/rspec/core/example.rb:511:in `block in with_around_and_singleton_context_hooks'
rspec-core (3.13.0) lib/rspec/core/example.rb:468:in `block in with_around_example_hooks'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:486:in `block in run'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:626:in `block in run_around_example_hooks_for'
rspec-core (3.13.0) lib/rspec/core/example.rb:352:in `call'
rspec-rails (6.1.3) lib/rspec/rails/adapters.rb:75:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
rspec-core (3.13.0) lib/rspec/core/example.rb:457:in `instance_exec'
rspec-core (3.13.0) lib/rspec/core/example.rb:457:in `instance_exec'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:390:in `execute_with'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:628:in `block (2 levels) in run_around_example_hooks_for'
rspec-core (3.13.0) lib/rspec/core/example.rb:352:in `call'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:629:in `run_around_example_hooks_for'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:486:in `run'
rspec-core (3.13.0) lib/rspec/core/example.rb:468:in `with_around_example_hooks'
rspec-core (3.13.0) lib/rspec/core/example.rb:511:in `with_around_and_singleton_context_hooks'
rspec-core (3.13.0) lib/rspec/core/example.rb:259:in `run'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:646:in `block in run_examples'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:642:in `map'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:642:in `run_examples'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:607:in `run'
rspec-core (3.13.0) lib/rspec/core/runner.rb:121:in `block (3 levels) in run_specs'
rspec-core (3.13.0) lib/rspec/core/runner.rb:121:in `map'
rspec-core (3.13.0) lib/rspec/core/runner.rb:121:in `block (2 levels) in run_specs'
rspec-core (3.13.0) lib/rspec/core/configuration.rb:2091:in `with_suite_hooks'
rspec-core (3.13.0) lib/rspec/core/runner.rb:116:in `block in run_specs'
rspec-core (3.13.0) lib/rspec/core/reporter.rb:74:in `report'
rspec-core (3.13.0) lib/rspec/core/runner.rb:115:in `run_specs'
rspec-core (3.13.0) lib/rspec/core/runner.rb:89:in `run'
rspec-core (3.13.0) lib/rspec/core/runner.rb:71:in `run'
rspec-core (3.13.0) lib/rspec/core/runner.rb:45:in `invoke'
rspec-core (3.13.0) exe/rspec:4:in `<top (required)>'
/home/hyperionel/.asdf/installs/ruby/3.1.2/bin/rspec:25:in `load'
/home/hyperionel/.asdf/installs/ruby/3.1.2/bin/rspec:25:in `<main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (4.6ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:34:35 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", "in"], ["created_at", "2024-08-13 06:34:35.981398"], ["updated_at", "2024-08-13 06:34:35.981398"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9459ms (Views: 0.2ms | ActiveRecord: 5.9ms (1 query, 0 cached) | GC: 24.9ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:34:45 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556715600", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.2ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", "out"], ["created_at", "2024-08-13 06:34:45.414307"], ["updated_at", "2024-08-13 06:34:45.414307"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1462ms (Views: 0.1ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.5ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:34:46 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556773200", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.2ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", "in"], ["created_at", "2024-08-13 06:34:46.877752"], ["updated_at", "2024-08-13 06:34:46.877752"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1660ms (Views: 0.1ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:34:48 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556802000", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", "out"], ["created_at", "2024-08-13 06:34:48.538620"], ["updated_at", "2024-08-13 06:34:48.538620"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1231ms (Views: 0.1ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/reports/1/2019-05-01/2019-05-30" for 127.0.0.1 at 2024-08-13 09:34:49 +0300
  
AbstractController::ActionNotFound (The action 'get' could not be found for ReportsController):
  
actionpack (7.2.0) lib/abstract_controller/base.rb:158:in `process'
actionpack (7.2.0) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (7.2.0) lib/action_controller/metal.rb:335:in `dispatch'
actionpack (7.2.0) lib/action_dispatch/routing/route_set.rb:67:in `dispatch'
actionpack (7.2.0) lib/action_dispatch/routing/route_set.rb:50:in `serve'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:53:in `block in serve'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:133:in `block in find_routes'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:126:in `each'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:126:in `find_routes'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:34:in `serve'
actionpack (7.2.0) lib/action_dispatch/routing/route_set.rb:896:in `call'
rack (3.1.7) lib/rack/etag.rb:29:in `call'
rack (3.1.7) lib/rack/conditional_get.rb:31:in `call'
rack (3.1.7) lib/rack/head.rb:15:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/callbacks.rb:31:in `block in call'
activesupport (7.2.0) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.2.0) lib/action_dispatch/middleware/callbacks.rb:30:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:31:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/show_exceptions.rb:32:in `call'
railties (7.2.0) lib/rails/rack/logger.rb:41:in `call_app'
railties (7.2.0) lib/rails/rack/logger.rb:29:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/remote_ip.rb:96:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/request_id.rb:33:in `call'
rack (3.1.7) lib/rack/runtime.rb:24:in `call'
activesupport (7.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/static.rb:27:in `call'
rack (3.1.7) lib/rack/sendfile.rb:114:in `call'
railties (7.2.0) lib/rails/engine.rb:535:in `call'
rack-test (2.1.0) lib/rack/test.rb:360:in `process_request'
rack-test (2.1.0) lib/rack/test.rb:153:in `request'
actionpack (7.2.0) lib/action_dispatch/testing/integration.rb:287:in `process'
actionpack (7.2.0) lib/action_dispatch/testing/integration.rb:19:in `get'
actionpack (7.2.0) lib/action_dispatch/testing/integration.rb:378:in `get'
spec/public_api.rb:21:in `get_report'
spec/public_api.rb:15:in `report'
spec/api_spec.rb:18:in `block (2 levels) in <top (required)>'
rspec-core (3.13.0) lib/rspec/core/example.rb:263:in `instance_exec'
rspec-core (3.13.0) lib/rspec/core/example.rb:263:in `block in run'
rspec-core (3.13.0) lib/rspec/core/example.rb:511:in `block in with_around_and_singleton_context_hooks'
rspec-core (3.13.0) lib/rspec/core/example.rb:468:in `block in with_around_example_hooks'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:486:in `block in run'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:626:in `block in run_around_example_hooks_for'
rspec-core (3.13.0) lib/rspec/core/example.rb:352:in `call'
rspec-rails (6.1.3) lib/rspec/rails/adapters.rb:75:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
rspec-core (3.13.0) lib/rspec/core/example.rb:457:in `instance_exec'
rspec-core (3.13.0) lib/rspec/core/example.rb:457:in `instance_exec'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:390:in `execute_with'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:628:in `block (2 levels) in run_around_example_hooks_for'
rspec-core (3.13.0) lib/rspec/core/example.rb:352:in `call'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:629:in `run_around_example_hooks_for'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:486:in `run'
rspec-core (3.13.0) lib/rspec/core/example.rb:468:in `with_around_example_hooks'
rspec-core (3.13.0) lib/rspec/core/example.rb:511:in `with_around_and_singleton_context_hooks'
rspec-core (3.13.0) lib/rspec/core/example.rb:259:in `run'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:646:in `block in run_examples'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:642:in `map'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:642:in `run_examples'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:607:in `run'
rspec-core (3.13.0) lib/rspec/core/runner.rb:121:in `block (3 levels) in run_specs'
rspec-core (3.13.0) lib/rspec/core/runner.rb:121:in `map'
rspec-core (3.13.0) lib/rspec/core/runner.rb:121:in `block (2 levels) in run_specs'
rspec-core (3.13.0) lib/rspec/core/configuration.rb:2091:in `with_suite_hooks'
rspec-core (3.13.0) lib/rspec/core/runner.rb:116:in `block in run_specs'
rspec-core (3.13.0) lib/rspec/core/reporter.rb:74:in `report'
rspec-core (3.13.0) lib/rspec/core/runner.rb:115:in `run_specs'
rspec-core (3.13.0) lib/rspec/core/runner.rb:89:in `run'
rspec-core (3.13.0) lib/rspec/core/runner.rb:71:in `run'
rspec-core (3.13.0) lib/rspec/core/runner.rb:45:in `invoke'
rspec-core (3.13.0) exe/rspec:4:in `<top (required)>'
/home/hyperionel/.asdf/installs/ruby/3.1.2/bin/rspec:25:in `load'
/home/hyperionel/.asdf/installs/ruby/3.1.2/bin/rspec:25:in `<main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (6.0ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started GET "/reports/bad/2019-01-01/2019-02-02" for 127.0.0.1 at 2024-08-13 09:35:35 +0300
  
AbstractController::ActionNotFound (The action 'get' could not be found for ReportsController):
  
actionpack (7.2.0) lib/abstract_controller/base.rb:158:in `process'
actionpack (7.2.0) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (7.2.0) lib/action_controller/metal.rb:335:in `dispatch'
actionpack (7.2.0) lib/action_dispatch/routing/route_set.rb:67:in `dispatch'
actionpack (7.2.0) lib/action_dispatch/routing/route_set.rb:50:in `serve'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:53:in `block in serve'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:133:in `block in find_routes'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:126:in `each'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:126:in `find_routes'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:34:in `serve'
actionpack (7.2.0) lib/action_dispatch/routing/route_set.rb:896:in `call'
rack (3.1.7) lib/rack/etag.rb:29:in `call'
rack (3.1.7) lib/rack/conditional_get.rb:31:in `call'
rack (3.1.7) lib/rack/head.rb:15:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/callbacks.rb:31:in `block in call'
activesupport (7.2.0) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.2.0) lib/action_dispatch/middleware/callbacks.rb:30:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:31:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/show_exceptions.rb:32:in `call'
railties (7.2.0) lib/rails/rack/logger.rb:41:in `call_app'
railties (7.2.0) lib/rails/rack/logger.rb:29:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/remote_ip.rb:96:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/request_id.rb:33:in `call'
rack (3.1.7) lib/rack/runtime.rb:24:in `call'
activesupport (7.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/static.rb:27:in `call'
rack (3.1.7) lib/rack/sendfile.rb:114:in `call'
railties (7.2.0) lib/rails/engine.rb:535:in `call'
rack-test (2.1.0) lib/rack/test.rb:360:in `process_request'
rack-test (2.1.0) lib/rack/test.rb:153:in `request'
actionpack (7.2.0) lib/action_dispatch/testing/integration.rb:287:in `process'
actionpack (7.2.0) lib/action_dispatch/testing/integration.rb:19:in `get'
actionpack (7.2.0) lib/action_dispatch/testing/integration.rb:378:in `get'
spec/public_api.rb:21:in `get_report'
spec/api_validation_spec.rb:55:in `block (3 levels) in <main>'
rspec-core (3.13.0) lib/rspec/core/example.rb:263:in `instance_exec'
rspec-core (3.13.0) lib/rspec/core/example.rb:263:in `block in run'
rspec-core (3.13.0) lib/rspec/core/example.rb:511:in `block in with_around_and_singleton_context_hooks'
rspec-core (3.13.0) lib/rspec/core/example.rb:468:in `block in with_around_example_hooks'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:486:in `block in run'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:626:in `block in run_around_example_hooks_for'
rspec-core (3.13.0) lib/rspec/core/example.rb:352:in `call'
rspec-rails (6.1.3) lib/rspec/rails/adapters.rb:75:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
rspec-core (3.13.0) lib/rspec/core/example.rb:457:in `instance_exec'
rspec-core (3.13.0) lib/rspec/core/example.rb:457:in `instance_exec'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:390:in `execute_with'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:628:in `block (2 levels) in run_around_example_hooks_for'
rspec-core (3.13.0) lib/rspec/core/example.rb:352:in `call'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:629:in `run_around_example_hooks_for'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:486:in `run'
rspec-core (3.13.0) lib/rspec/core/example.rb:468:in `with_around_example_hooks'
rspec-core (3.13.0) lib/rspec/core/example.rb:511:in `with_around_and_singleton_context_hooks'
rspec-core (3.13.0) lib/rspec/core/example.rb:259:in `run'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:646:in `block in run_examples'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:642:in `map'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:642:in `run_examples'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:607:in `run'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:608:in `block in run'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:608:in `map'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:608:in `run'
rspec-core (3.13.0) lib/rspec/core/runner.rb:121:in `block (3 levels) in run_specs'
rspec-core (3.13.0) lib/rspec/core/runner.rb:121:in `map'
rspec-core (3.13.0) lib/rspec/core/runner.rb:121:in `block (2 levels) in run_specs'
rspec-core (3.13.0) lib/rspec/core/configuration.rb:2091:in `with_suite_hooks'
rspec-core (3.13.0) lib/rspec/core/runner.rb:116:in `block in run_specs'
rspec-core (3.13.0) lib/rspec/core/reporter.rb:74:in `report'
rspec-core (3.13.0) lib/rspec/core/runner.rb:115:in `run_specs'
rspec-core (3.13.0) lib/rspec/core/runner.rb:89:in `run'
rspec-core (3.13.0) lib/rspec/core/runner.rb:71:in `run'
rspec-core (3.13.0) lib/rspec/core/runner.rb:45:in `invoke'
rspec-core (3.13.0) exe/rspec:4:in `<top (required)>'
/home/hyperionel/.asdf/installs/ruby/3.1.2/bin/rspec:25:in `load'
/home/hyperionel/.asdf/installs/ruby/3.1.2/bin/rspec:25:in `<main>'
Started GET "/reports/1/2019-01-01/bad" for 127.0.0.1 at 2024-08-13 09:35:35 +0300
  
AbstractController::ActionNotFound (The action 'get' could not be found for ReportsController):
  
actionpack (7.2.0) lib/abstract_controller/base.rb:158:in `process'
actionpack (7.2.0) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (7.2.0) lib/action_controller/metal.rb:335:in `dispatch'
actionpack (7.2.0) lib/action_dispatch/routing/route_set.rb:67:in `dispatch'
actionpack (7.2.0) lib/action_dispatch/routing/route_set.rb:50:in `serve'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:53:in `block in serve'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:133:in `block in find_routes'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:126:in `each'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:126:in `find_routes'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:34:in `serve'
actionpack (7.2.0) lib/action_dispatch/routing/route_set.rb:896:in `call'
rack (3.1.7) lib/rack/etag.rb:29:in `call'
rack (3.1.7) lib/rack/conditional_get.rb:31:in `call'
rack (3.1.7) lib/rack/head.rb:15:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/callbacks.rb:31:in `block in call'
activesupport (7.2.0) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.2.0) lib/action_dispatch/middleware/callbacks.rb:30:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:31:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/show_exceptions.rb:32:in `call'
railties (7.2.0) lib/rails/rack/logger.rb:41:in `call_app'
railties (7.2.0) lib/rails/rack/logger.rb:29:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/remote_ip.rb:96:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/request_id.rb:33:in `call'
rack (3.1.7) lib/rack/runtime.rb:24:in `call'
activesupport (7.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/static.rb:27:in `call'
rack (3.1.7) lib/rack/sendfile.rb:114:in `call'
railties (7.2.0) lib/rails/engine.rb:535:in `call'
rack-test (2.1.0) lib/rack/test.rb:360:in `process_request'
rack-test (2.1.0) lib/rack/test.rb:153:in `request'
actionpack (7.2.0) lib/action_dispatch/testing/integration.rb:287:in `process'
actionpack (7.2.0) lib/action_dispatch/testing/integration.rb:19:in `get'
actionpack (7.2.0) lib/action_dispatch/testing/integration.rb:378:in `get'
spec/public_api.rb:21:in `get_report'
spec/api_validation_spec.rb:49:in `block (3 levels) in <main>'
rspec-core (3.13.0) lib/rspec/core/example.rb:263:in `instance_exec'
rspec-core (3.13.0) lib/rspec/core/example.rb:263:in `block in run'
rspec-core (3.13.0) lib/rspec/core/example.rb:511:in `block in with_around_and_singleton_context_hooks'
rspec-core (3.13.0) lib/rspec/core/example.rb:468:in `block in with_around_example_hooks'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:486:in `block in run'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:626:in `block in run_around_example_hooks_for'
rspec-core (3.13.0) lib/rspec/core/example.rb:352:in `call'
rspec-rails (6.1.3) lib/rspec/rails/adapters.rb:75:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
rspec-core (3.13.0) lib/rspec/core/example.rb:457:in `instance_exec'
rspec-core (3.13.0) lib/rspec/core/example.rb:457:in `instance_exec'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:390:in `execute_with'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:628:in `block (2 levels) in run_around_example_hooks_for'
rspec-core (3.13.0) lib/rspec/core/example.rb:352:in `call'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:629:in `run_around_example_hooks_for'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:486:in `run'
rspec-core (3.13.0) lib/rspec/core/example.rb:468:in `with_around_example_hooks'
rspec-core (3.13.0) lib/rspec/core/example.rb:511:in `with_around_and_singleton_context_hooks'
rspec-core (3.13.0) lib/rspec/core/example.rb:259:in `run'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:646:in `block in run_examples'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:642:in `map'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:642:in `run_examples'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:607:in `run'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:608:in `block in run'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:608:in `map'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:608:in `run'
rspec-core (3.13.0) lib/rspec/core/runner.rb:121:in `block (3 levels) in run_specs'
rspec-core (3.13.0) lib/rspec/core/runner.rb:121:in `map'
rspec-core (3.13.0) lib/rspec/core/runner.rb:121:in `block (2 levels) in run_specs'
rspec-core (3.13.0) lib/rspec/core/configuration.rb:2091:in `with_suite_hooks'
rspec-core (3.13.0) lib/rspec/core/runner.rb:116:in `block in run_specs'
rspec-core (3.13.0) lib/rspec/core/reporter.rb:74:in `report'
rspec-core (3.13.0) lib/rspec/core/runner.rb:115:in `run_specs'
rspec-core (3.13.0) lib/rspec/core/runner.rb:89:in `run'
rspec-core (3.13.0) lib/rspec/core/runner.rb:71:in `run'
rspec-core (3.13.0) lib/rspec/core/runner.rb:45:in `invoke'
rspec-core (3.13.0) exe/rspec:4:in `<top (required)>'
/home/hyperionel/.asdf/installs/ruby/3.1.2/bin/rspec:25:in `load'
/home/hyperionel/.asdf/installs/ruby/3.1.2/bin/rspec:25:in `<main>'
Started GET "/reports/1/bad/2019-01-01" for 127.0.0.1 at 2024-08-13 09:35:35 +0300
  
AbstractController::ActionNotFound (The action 'get' could not be found for ReportsController):
  
actionpack (7.2.0) lib/abstract_controller/base.rb:158:in `process'
actionpack (7.2.0) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (7.2.0) lib/action_controller/metal.rb:335:in `dispatch'
actionpack (7.2.0) lib/action_dispatch/routing/route_set.rb:67:in `dispatch'
actionpack (7.2.0) lib/action_dispatch/routing/route_set.rb:50:in `serve'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:53:in `block in serve'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:133:in `block in find_routes'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:126:in `each'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:126:in `find_routes'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:34:in `serve'
actionpack (7.2.0) lib/action_dispatch/routing/route_set.rb:896:in `call'
rack (3.1.7) lib/rack/etag.rb:29:in `call'
rack (3.1.7) lib/rack/conditional_get.rb:31:in `call'
rack (3.1.7) lib/rack/head.rb:15:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/callbacks.rb:31:in `block in call'
activesupport (7.2.0) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.2.0) lib/action_dispatch/middleware/callbacks.rb:30:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:31:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/show_exceptions.rb:32:in `call'
railties (7.2.0) lib/rails/rack/logger.rb:41:in `call_app'
railties (7.2.0) lib/rails/rack/logger.rb:29:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/remote_ip.rb:96:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/request_id.rb:33:in `call'
rack (3.1.7) lib/rack/runtime.rb:24:in `call'
activesupport (7.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/static.rb:27:in `call'
rack (3.1.7) lib/rack/sendfile.rb:114:in `call'
railties (7.2.0) lib/rails/engine.rb:535:in `call'
rack-test (2.1.0) lib/rack/test.rb:360:in `process_request'
rack-test (2.1.0) lib/rack/test.rb:153:in `request'
actionpack (7.2.0) lib/action_dispatch/testing/integration.rb:287:in `process'
actionpack (7.2.0) lib/action_dispatch/testing/integration.rb:19:in `get'
actionpack (7.2.0) lib/action_dispatch/testing/integration.rb:378:in `get'
spec/public_api.rb:21:in `get_report'
spec/api_validation_spec.rb:43:in `block (3 levels) in <main>'
rspec-core (3.13.0) lib/rspec/core/example.rb:263:in `instance_exec'
rspec-core (3.13.0) lib/rspec/core/example.rb:263:in `block in run'
rspec-core (3.13.0) lib/rspec/core/example.rb:511:in `block in with_around_and_singleton_context_hooks'
rspec-core (3.13.0) lib/rspec/core/example.rb:468:in `block in with_around_example_hooks'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:486:in `block in run'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:626:in `block in run_around_example_hooks_for'
rspec-core (3.13.0) lib/rspec/core/example.rb:352:in `call'
rspec-rails (6.1.3) lib/rspec/rails/adapters.rb:75:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
rspec-core (3.13.0) lib/rspec/core/example.rb:457:in `instance_exec'
rspec-core (3.13.0) lib/rspec/core/example.rb:457:in `instance_exec'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:390:in `execute_with'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:628:in `block (2 levels) in run_around_example_hooks_for'
rspec-core (3.13.0) lib/rspec/core/example.rb:352:in `call'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:629:in `run_around_example_hooks_for'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:486:in `run'
rspec-core (3.13.0) lib/rspec/core/example.rb:468:in `with_around_example_hooks'
rspec-core (3.13.0) lib/rspec/core/example.rb:511:in `with_around_and_singleton_context_hooks'
rspec-core (3.13.0) lib/rspec/core/example.rb:259:in `run'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:646:in `block in run_examples'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:642:in `map'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:642:in `run_examples'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:607:in `run'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:608:in `block in run'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:608:in `map'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:608:in `run'
rspec-core (3.13.0) lib/rspec/core/runner.rb:121:in `block (3 levels) in run_specs'
rspec-core (3.13.0) lib/rspec/core/runner.rb:121:in `map'
rspec-core (3.13.0) lib/rspec/core/runner.rb:121:in `block (2 levels) in run_specs'
rspec-core (3.13.0) lib/rspec/core/configuration.rb:2091:in `with_suite_hooks'
rspec-core (3.13.0) lib/rspec/core/runner.rb:116:in `block in run_specs'
rspec-core (3.13.0) lib/rspec/core/reporter.rb:74:in `report'
rspec-core (3.13.0) lib/rspec/core/runner.rb:115:in `run_specs'
rspec-core (3.13.0) lib/rspec/core/runner.rb:89:in `run'
rspec-core (3.13.0) lib/rspec/core/runner.rb:71:in `run'
rspec-core (3.13.0) lib/rspec/core/runner.rb:45:in `invoke'
rspec-core (3.13.0) exe/rspec:4:in `<top (required)>'
/home/hyperionel/.asdf/installs/ruby/3.1.2/bin/rspec:25:in `load'
/home/hyperionel/.asdf/installs/ruby/3.1.2/bin/rspec:25:in `<main>'
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:35:35 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "kind"=>"in", "timestamp"=>nil}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.2ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", "in"], ["created_at", "2024-08-13 06:35:35.651454"], ["updated_at", "2024-08-13 06:35:35.651454"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.1ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:35:35 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "kind"=>"in", "timestamp"=>"bad"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", "in"], ["created_at", "2024-08-13 06:35:35.656450"], ["updated_at", "2024-08-13 06:35:35.656450"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:35:35 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "kind"=>"bad", "timestamp"=>"1723530935"}
Completed 422 Unprocessable Content in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:35:35 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>nil, "kind"=>"in", "timestamp"=>"1723530935"}
Completed 422 Unprocessable Content in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:35:35 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "kind"=>nil, "timestamp"=>"1723530935"}
Completed 422 Unprocessable Content in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:35:35 +0300
Processing by EventsController#save as HTML
Completed 422 Unprocessable Content in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.1ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:35:35 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"bad", "kind"=>"in", "timestamp"=>"1723530935"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 0], ["timestamp", "1970-01-01 00:00:00"], ["kind", "in"], ["created_at", "2024-08-13 06:35:35.663233"], ["updated_at", "2024-08-13 06:35:35.663233"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:35:35 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", "in"], ["created_at", "2024-08-13 06:35:35.665127"], ["updated_at", "2024-08-13 06:35:35.665127"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.1ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:35:35 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556773200", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", "in"], ["created_at", "2024-08-13 06:35:35.666234"], ["updated_at", "2024-08-13 06:35:35.666234"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:35:35 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556802000", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", "out"], ["created_at", "2024-08-13 06:35:35.667210"], ["updated_at", "2024-08-13 06:35:35.667210"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/reports/1/2019-05-01/2019-05-30" for 127.0.0.1 at 2024-08-13 09:35:35 +0300
  
AbstractController::ActionNotFound (The action 'get' could not be found for ReportsController):
  
actionpack (7.2.0) lib/abstract_controller/base.rb:158:in `process'
actionpack (7.2.0) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (7.2.0) lib/action_controller/metal.rb:335:in `dispatch'
actionpack (7.2.0) lib/action_dispatch/routing/route_set.rb:67:in `dispatch'
actionpack (7.2.0) lib/action_dispatch/routing/route_set.rb:50:in `serve'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:53:in `block in serve'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:133:in `block in find_routes'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:126:in `each'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:126:in `find_routes'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:34:in `serve'
actionpack (7.2.0) lib/action_dispatch/routing/route_set.rb:896:in `call'
rack (3.1.7) lib/rack/etag.rb:29:in `call'
rack (3.1.7) lib/rack/conditional_get.rb:31:in `call'
rack (3.1.7) lib/rack/head.rb:15:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/callbacks.rb:31:in `block in call'
activesupport (7.2.0) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.2.0) lib/action_dispatch/middleware/callbacks.rb:30:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:31:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/show_exceptions.rb:32:in `call'
railties (7.2.0) lib/rails/rack/logger.rb:41:in `call_app'
railties (7.2.0) lib/rails/rack/logger.rb:29:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/remote_ip.rb:96:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/request_id.rb:33:in `call'
rack (3.1.7) lib/rack/runtime.rb:24:in `call'
activesupport (7.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/static.rb:27:in `call'
rack (3.1.7) lib/rack/sendfile.rb:114:in `call'
railties (7.2.0) lib/rails/engine.rb:535:in `call'
rack-test (2.1.0) lib/rack/test.rb:360:in `process_request'
rack-test (2.1.0) lib/rack/test.rb:153:in `request'
actionpack (7.2.0) lib/action_dispatch/testing/integration.rb:287:in `process'
actionpack (7.2.0) lib/action_dispatch/testing/integration.rb:19:in `get'
actionpack (7.2.0) lib/action_dispatch/testing/integration.rb:378:in `get'
spec/public_api.rb:21:in `get_report'
spec/public_api.rb:15:in `report'
spec/api_spec.rb:42:in `block (2 levels) in <top (required)>'
rspec-core (3.13.0) lib/rspec/core/example.rb:263:in `instance_exec'
rspec-core (3.13.0) lib/rspec/core/example.rb:263:in `block in run'
rspec-core (3.13.0) lib/rspec/core/example.rb:511:in `block in with_around_and_singleton_context_hooks'
rspec-core (3.13.0) lib/rspec/core/example.rb:468:in `block in with_around_example_hooks'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:486:in `block in run'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:626:in `block in run_around_example_hooks_for'
rspec-core (3.13.0) lib/rspec/core/example.rb:352:in `call'
rspec-rails (6.1.3) lib/rspec/rails/adapters.rb:75:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
rspec-core (3.13.0) lib/rspec/core/example.rb:457:in `instance_exec'
rspec-core (3.13.0) lib/rspec/core/example.rb:457:in `instance_exec'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:390:in `execute_with'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:628:in `block (2 levels) in run_around_example_hooks_for'
rspec-core (3.13.0) lib/rspec/core/example.rb:352:in `call'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:629:in `run_around_example_hooks_for'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:486:in `run'
rspec-core (3.13.0) lib/rspec/core/example.rb:468:in `with_around_example_hooks'
rspec-core (3.13.0) lib/rspec/core/example.rb:511:in `with_around_and_singleton_context_hooks'
rspec-core (3.13.0) lib/rspec/core/example.rb:259:in `run'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:646:in `block in run_examples'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:642:in `map'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:642:in `run_examples'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:607:in `run'
rspec-core (3.13.0) lib/rspec/core/runner.rb:121:in `block (3 levels) in run_specs'
rspec-core (3.13.0) lib/rspec/core/runner.rb:121:in `map'
rspec-core (3.13.0) lib/rspec/core/runner.rb:121:in `block (2 levels) in run_specs'
rspec-core (3.13.0) lib/rspec/core/configuration.rb:2091:in `with_suite_hooks'
rspec-core (3.13.0) lib/rspec/core/runner.rb:116:in `block in run_specs'
rspec-core (3.13.0) lib/rspec/core/reporter.rb:74:in `report'
rspec-core (3.13.0) lib/rspec/core/runner.rb:115:in `run_specs'
rspec-core (3.13.0) lib/rspec/core/runner.rb:89:in `run'
rspec-core (3.13.0) lib/rspec/core/runner.rb:71:in `run'
rspec-core (3.13.0) lib/rspec/core/runner.rb:45:in `invoke'
rspec-core (3.13.0) exe/rspec:4:in `<top (required)>'
/home/hyperionel/.asdf/installs/ruby/3.1.2/bin/rspec:25:in `load'
/home/hyperionel/.asdf/installs/ruby/3.1.2/bin/rspec:25:in `<main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:35:35 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.2ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", "in"], ["created_at", "2024-08-13 06:35:35.717296"], ["updated_at", "2024-08-13 06:35:35.717296"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:35:35 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556802000", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", "out"], ["created_at", "2024-08-13 06:35:35.718784"], ["updated_at", "2024-08-13 06:35:35.718784"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/reports/1/2019-05-01/2019-05-30" for 127.0.0.1 at 2024-08-13 09:35:35 +0300
  
AbstractController::ActionNotFound (The action 'get' could not be found for ReportsController):
  
actionpack (7.2.0) lib/abstract_controller/base.rb:158:in `process'
actionpack (7.2.0) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (7.2.0) lib/action_controller/metal.rb:335:in `dispatch'
actionpack (7.2.0) lib/action_dispatch/routing/route_set.rb:67:in `dispatch'
actionpack (7.2.0) lib/action_dispatch/routing/route_set.rb:50:in `serve'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:53:in `block in serve'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:133:in `block in find_routes'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:126:in `each'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:126:in `find_routes'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:34:in `serve'
actionpack (7.2.0) lib/action_dispatch/routing/route_set.rb:896:in `call'
rack (3.1.7) lib/rack/etag.rb:29:in `call'
rack (3.1.7) lib/rack/conditional_get.rb:31:in `call'
rack (3.1.7) lib/rack/head.rb:15:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/callbacks.rb:31:in `block in call'
activesupport (7.2.0) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.2.0) lib/action_dispatch/middleware/callbacks.rb:30:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:31:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/show_exceptions.rb:32:in `call'
railties (7.2.0) lib/rails/rack/logger.rb:41:in `call_app'
railties (7.2.0) lib/rails/rack/logger.rb:29:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/remote_ip.rb:96:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/request_id.rb:33:in `call'
rack (3.1.7) lib/rack/runtime.rb:24:in `call'
activesupport (7.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/static.rb:27:in `call'
rack (3.1.7) lib/rack/sendfile.rb:114:in `call'
railties (7.2.0) lib/rails/engine.rb:535:in `call'
rack-test (2.1.0) lib/rack/test.rb:360:in `process_request'
rack-test (2.1.0) lib/rack/test.rb:153:in `request'
actionpack (7.2.0) lib/action_dispatch/testing/integration.rb:287:in `process'
actionpack (7.2.0) lib/action_dispatch/testing/integration.rb:19:in `get'
actionpack (7.2.0) lib/action_dispatch/testing/integration.rb:378:in `get'
spec/public_api.rb:21:in `get_report'
spec/public_api.rb:15:in `report'
spec/api_spec.rb:56:in `block (2 levels) in <top (required)>'
rspec-core (3.13.0) lib/rspec/core/example.rb:263:in `instance_exec'
rspec-core (3.13.0) lib/rspec/core/example.rb:263:in `block in run'
rspec-core (3.13.0) lib/rspec/core/example.rb:511:in `block in with_around_and_singleton_context_hooks'
rspec-core (3.13.0) lib/rspec/core/example.rb:468:in `block in with_around_example_hooks'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:486:in `block in run'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:626:in `block in run_around_example_hooks_for'
rspec-core (3.13.0) lib/rspec/core/example.rb:352:in `call'
rspec-rails (6.1.3) lib/rspec/rails/adapters.rb:75:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
rspec-core (3.13.0) lib/rspec/core/example.rb:457:in `instance_exec'
rspec-core (3.13.0) lib/rspec/core/example.rb:457:in `instance_exec'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:390:in `execute_with'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:628:in `block (2 levels) in run_around_example_hooks_for'
rspec-core (3.13.0) lib/rspec/core/example.rb:352:in `call'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:629:in `run_around_example_hooks_for'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:486:in `run'
rspec-core (3.13.0) lib/rspec/core/example.rb:468:in `with_around_example_hooks'
rspec-core (3.13.0) lib/rspec/core/example.rb:511:in `with_around_and_singleton_context_hooks'
rspec-core (3.13.0) lib/rspec/core/example.rb:259:in `run'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:646:in `block in run_examples'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:642:in `map'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:642:in `run_examples'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:607:in `run'
rspec-core (3.13.0) lib/rspec/core/runner.rb:121:in `block (3 levels) in run_specs'
rspec-core (3.13.0) lib/rspec/core/runner.rb:121:in `map'
rspec-core (3.13.0) lib/rspec/core/runner.rb:121:in `block (2 levels) in run_specs'
rspec-core (3.13.0) lib/rspec/core/configuration.rb:2091:in `with_suite_hooks'
rspec-core (3.13.0) lib/rspec/core/runner.rb:116:in `block in run_specs'
rspec-core (3.13.0) lib/rspec/core/reporter.rb:74:in `report'
rspec-core (3.13.0) lib/rspec/core/runner.rb:115:in `run_specs'
rspec-core (3.13.0) lib/rspec/core/runner.rb:89:in `run'
rspec-core (3.13.0) lib/rspec/core/runner.rb:71:in `run'
rspec-core (3.13.0) lib/rspec/core/runner.rb:45:in `invoke'
rspec-core (3.13.0) exe/rspec:4:in `<top (required)>'
/home/hyperionel/.asdf/installs/ruby/3.1.2/bin/rspec:25:in `load'
/home/hyperionel/.asdf/installs/ruby/3.1.2/bin/rspec:25:in `<main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:35:35 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556687400", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.2ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", "in"], ["created_at", "2024-08-13 06:35:35.770962"], ["updated_at", "2024-08-13 06:35:35.770962"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:35:35 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556715601", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", "out"], ["created_at", "2024-08-13 06:35:35.772271"], ["updated_at", "2024-08-13 06:35:35.772271"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.1ms)
Started GET "/reports/1/2019-05-01/2019-05-01" for 127.0.0.1 at 2024-08-13 09:35:35 +0300
  
AbstractController::ActionNotFound (The action 'get' could not be found for ReportsController):
  
actionpack (7.2.0) lib/abstract_controller/base.rb:158:in `process'
actionpack (7.2.0) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (7.2.0) lib/action_controller/metal.rb:335:in `dispatch'
actionpack (7.2.0) lib/action_dispatch/routing/route_set.rb:67:in `dispatch'
actionpack (7.2.0) lib/action_dispatch/routing/route_set.rb:50:in `serve'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:53:in `block in serve'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:133:in `block in find_routes'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:126:in `each'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:126:in `find_routes'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:34:in `serve'
actionpack (7.2.0) lib/action_dispatch/routing/route_set.rb:896:in `call'
rack (3.1.7) lib/rack/etag.rb:29:in `call'
rack (3.1.7) lib/rack/conditional_get.rb:31:in `call'
rack (3.1.7) lib/rack/head.rb:15:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/callbacks.rb:31:in `block in call'
activesupport (7.2.0) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.2.0) lib/action_dispatch/middleware/callbacks.rb:30:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:31:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/show_exceptions.rb:32:in `call'
railties (7.2.0) lib/rails/rack/logger.rb:41:in `call_app'
railties (7.2.0) lib/rails/rack/logger.rb:29:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/remote_ip.rb:96:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/request_id.rb:33:in `call'
rack (3.1.7) lib/rack/runtime.rb:24:in `call'
activesupport (7.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/static.rb:27:in `call'
rack (3.1.7) lib/rack/sendfile.rb:114:in `call'
railties (7.2.0) lib/rails/engine.rb:535:in `call'
rack-test (2.1.0) lib/rack/test.rb:360:in `process_request'
rack-test (2.1.0) lib/rack/test.rb:153:in `request'
actionpack (7.2.0) lib/action_dispatch/testing/integration.rb:287:in `process'
actionpack (7.2.0) lib/action_dispatch/testing/integration.rb:19:in `get'
actionpack (7.2.0) lib/action_dispatch/testing/integration.rb:378:in `get'
spec/public_api.rb:21:in `get_report'
spec/public_api.rb:15:in `report'
spec/api_spec.rb:32:in `block (2 levels) in <top (required)>'
rspec-core (3.13.0) lib/rspec/core/example.rb:263:in `instance_exec'
rspec-core (3.13.0) lib/rspec/core/example.rb:263:in `block in run'
rspec-core (3.13.0) lib/rspec/core/example.rb:511:in `block in with_around_and_singleton_context_hooks'
rspec-core (3.13.0) lib/rspec/core/example.rb:468:in `block in with_around_example_hooks'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:486:in `block in run'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:626:in `block in run_around_example_hooks_for'
rspec-core (3.13.0) lib/rspec/core/example.rb:352:in `call'
rspec-rails (6.1.3) lib/rspec/rails/adapters.rb:75:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
rspec-core (3.13.0) lib/rspec/core/example.rb:457:in `instance_exec'
rspec-core (3.13.0) lib/rspec/core/example.rb:457:in `instance_exec'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:390:in `execute_with'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:628:in `block (2 levels) in run_around_example_hooks_for'
rspec-core (3.13.0) lib/rspec/core/example.rb:352:in `call'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:629:in `run_around_example_hooks_for'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:486:in `run'
rspec-core (3.13.0) lib/rspec/core/example.rb:468:in `with_around_example_hooks'
rspec-core (3.13.0) lib/rspec/core/example.rb:511:in `with_around_and_singleton_context_hooks'
rspec-core (3.13.0) lib/rspec/core/example.rb:259:in `run'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:646:in `block in run_examples'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:642:in `map'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:642:in `run_examples'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:607:in `run'
rspec-core (3.13.0) lib/rspec/core/runner.rb:121:in `block (3 levels) in run_specs'
rspec-core (3.13.0) lib/rspec/core/runner.rb:121:in `map'
rspec-core (3.13.0) lib/rspec/core/runner.rb:121:in `block (2 levels) in run_specs'
rspec-core (3.13.0) lib/rspec/core/configuration.rb:2091:in `with_suite_hooks'
rspec-core (3.13.0) lib/rspec/core/runner.rb:116:in `block in run_specs'
rspec-core (3.13.0) lib/rspec/core/reporter.rb:74:in `report'
rspec-core (3.13.0) lib/rspec/core/runner.rb:115:in `run_specs'
rspec-core (3.13.0) lib/rspec/core/runner.rb:89:in `run'
rspec-core (3.13.0) lib/rspec/core/runner.rb:71:in `run'
rspec-core (3.13.0) lib/rspec/core/runner.rb:45:in `invoke'
rspec-core (3.13.0) exe/rspec:4:in `<top (required)>'
/home/hyperionel/.asdf/installs/ruby/3.1.2/bin/rspec:25:in `load'
/home/hyperionel/.asdf/installs/ruby/3.1.2/bin/rspec:25:in `<main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:35:35 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.2ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", "in"], ["created_at", "2024-08-13 06:35:35.825023"], ["updated_at", "2024-08-13 06:35:35.825023"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:35:35 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556715600", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", "out"], ["created_at", "2024-08-13 06:35:35.826447"], ["updated_at", "2024-08-13 06:35:35.826447"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:35:35 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556773200", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", "in"], ["created_at", "2024-08-13 06:35:35.827327"], ["updated_at", "2024-08-13 06:35:35.827327"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 09:35:35 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556802000", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", "out"], ["created_at", "2024-08-13 06:35:35.828336"], ["updated_at", "2024-08-13 06:35:35.828336"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/reports/1/2019-05-01/2019-05-30" for 127.0.0.1 at 2024-08-13 09:35:35 +0300
  
AbstractController::ActionNotFound (The action 'get' could not be found for ReportsController):
  
actionpack (7.2.0) lib/abstract_controller/base.rb:158:in `process'
actionpack (7.2.0) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (7.2.0) lib/action_controller/metal.rb:335:in `dispatch'
actionpack (7.2.0) lib/action_dispatch/routing/route_set.rb:67:in `dispatch'
actionpack (7.2.0) lib/action_dispatch/routing/route_set.rb:50:in `serve'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:53:in `block in serve'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:133:in `block in find_routes'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:126:in `each'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:126:in `find_routes'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:34:in `serve'
actionpack (7.2.0) lib/action_dispatch/routing/route_set.rb:896:in `call'
rack (3.1.7) lib/rack/etag.rb:29:in `call'
rack (3.1.7) lib/rack/conditional_get.rb:31:in `call'
rack (3.1.7) lib/rack/head.rb:15:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/callbacks.rb:31:in `block in call'
activesupport (7.2.0) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.2.0) lib/action_dispatch/middleware/callbacks.rb:30:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:31:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/show_exceptions.rb:32:in `call'
railties (7.2.0) lib/rails/rack/logger.rb:41:in `call_app'
railties (7.2.0) lib/rails/rack/logger.rb:29:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/remote_ip.rb:96:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/request_id.rb:33:in `call'
rack (3.1.7) lib/rack/runtime.rb:24:in `call'
activesupport (7.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/static.rb:27:in `call'
rack (3.1.7) lib/rack/sendfile.rb:114:in `call'
railties (7.2.0) lib/rails/engine.rb:535:in `call'
rack-test (2.1.0) lib/rack/test.rb:360:in `process_request'
rack-test (2.1.0) lib/rack/test.rb:153:in `request'
actionpack (7.2.0) lib/action_dispatch/testing/integration.rb:287:in `process'
actionpack (7.2.0) lib/action_dispatch/testing/integration.rb:19:in `get'
actionpack (7.2.0) lib/action_dispatch/testing/integration.rb:378:in `get'
spec/public_api.rb:21:in `get_report'
spec/public_api.rb:15:in `report'
spec/api_spec.rb:18:in `block (2 levels) in <top (required)>'
rspec-core (3.13.0) lib/rspec/core/example.rb:263:in `instance_exec'
rspec-core (3.13.0) lib/rspec/core/example.rb:263:in `block in run'
rspec-core (3.13.0) lib/rspec/core/example.rb:511:in `block in with_around_and_singleton_context_hooks'
rspec-core (3.13.0) lib/rspec/core/example.rb:468:in `block in with_around_example_hooks'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:486:in `block in run'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:626:in `block in run_around_example_hooks_for'
rspec-core (3.13.0) lib/rspec/core/example.rb:352:in `call'
rspec-rails (6.1.3) lib/rspec/rails/adapters.rb:75:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
rspec-core (3.13.0) lib/rspec/core/example.rb:457:in `instance_exec'
rspec-core (3.13.0) lib/rspec/core/example.rb:457:in `instance_exec'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:390:in `execute_with'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:628:in `block (2 levels) in run_around_example_hooks_for'
rspec-core (3.13.0) lib/rspec/core/example.rb:352:in `call'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:629:in `run_around_example_hooks_for'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:486:in `run'
rspec-core (3.13.0) lib/rspec/core/example.rb:468:in `with_around_example_hooks'
rspec-core (3.13.0) lib/rspec/core/example.rb:511:in `with_around_and_singleton_context_hooks'
rspec-core (3.13.0) lib/rspec/core/example.rb:259:in `run'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:646:in `block in run_examples'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:642:in `map'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:642:in `run_examples'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:607:in `run'
rspec-core (3.13.0) lib/rspec/core/runner.rb:121:in `block (3 levels) in run_specs'
rspec-core (3.13.0) lib/rspec/core/runner.rb:121:in `map'
rspec-core (3.13.0) lib/rspec/core/runner.rb:121:in `block (2 levels) in run_specs'
rspec-core (3.13.0) lib/rspec/core/configuration.rb:2091:in `with_suite_hooks'
rspec-core (3.13.0) lib/rspec/core/runner.rb:116:in `block in run_specs'
rspec-core (3.13.0) lib/rspec/core/reporter.rb:74:in `report'
rspec-core (3.13.0) lib/rspec/core/runner.rb:115:in `run_specs'
rspec-core (3.13.0) lib/rspec/core/runner.rb:89:in `run'
rspec-core (3.13.0) lib/rspec/core/runner.rb:71:in `run'
rspec-core (3.13.0) lib/rspec/core/runner.rb:45:in `invoke'
rspec-core (3.13.0) exe/rspec:4:in `<top (required)>'
/home/hyperionel/.asdf/installs/ruby/3.1.2/bin/rspec:25:in `load'
/home/hyperionel/.asdf/installs/ruby/3.1.2/bin/rspec:25:in `<main>'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (4.9ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started GET "/reports/1/bad/2019-01-01" for 127.0.0.1 at 2024-08-13 09:42:56 +0300
  
AbstractController::ActionNotFound (The action 'get' could not be found for ReportsController):
  
actionpack (7.2.0) lib/abstract_controller/base.rb:158:in `process'
actionpack (7.2.0) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (7.2.0) lib/action_controller/metal.rb:335:in `dispatch'
actionpack (7.2.0) lib/action_dispatch/routing/route_set.rb:67:in `dispatch'
actionpack (7.2.0) lib/action_dispatch/routing/route_set.rb:50:in `serve'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:53:in `block in serve'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:133:in `block in find_routes'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:126:in `each'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:126:in `find_routes'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:34:in `serve'
actionpack (7.2.0) lib/action_dispatch/routing/route_set.rb:896:in `call'
rack (3.1.7) lib/rack/etag.rb:29:in `call'
rack (3.1.7) lib/rack/conditional_get.rb:31:in `call'
rack (3.1.7) lib/rack/head.rb:15:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/callbacks.rb:31:in `block in call'
activesupport (7.2.0) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.2.0) lib/action_dispatch/middleware/callbacks.rb:30:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:31:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/show_exceptions.rb:32:in `call'
railties (7.2.0) lib/rails/rack/logger.rb:41:in `call_app'
railties (7.2.0) lib/rails/rack/logger.rb:29:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/remote_ip.rb:96:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/request_id.rb:33:in `call'
rack (3.1.7) lib/rack/runtime.rb:24:in `call'
activesupport (7.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/static.rb:27:in `call'
rack (3.1.7) lib/rack/sendfile.rb:114:in `call'
railties (7.2.0) lib/rails/engine.rb:535:in `call'
rack-test (2.1.0) lib/rack/test.rb:360:in `process_request'
rack-test (2.1.0) lib/rack/test.rb:153:in `request'
actionpack (7.2.0) lib/action_dispatch/testing/integration.rb:287:in `process'
actionpack (7.2.0) lib/action_dispatch/testing/integration.rb:19:in `get'
actionpack (7.2.0) lib/action_dispatch/testing/integration.rb:378:in `get'
spec/public_api.rb:21:in `get_report'
spec/api_validation_spec.rb:43:in `block (3 levels) in <top (required)>'
rspec-core (3.13.0) lib/rspec/core/example.rb:263:in `instance_exec'
rspec-core (3.13.0) lib/rspec/core/example.rb:263:in `block in run'
rspec-core (3.13.0) lib/rspec/core/example.rb:511:in `block in with_around_and_singleton_context_hooks'
rspec-core (3.13.0) lib/rspec/core/example.rb:468:in `block in with_around_example_hooks'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:486:in `block in run'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:626:in `block in run_around_example_hooks_for'
rspec-core (3.13.0) lib/rspec/core/example.rb:352:in `call'
rspec-rails (6.1.3) lib/rspec/rails/adapters.rb:75:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
rspec-core (3.13.0) lib/rspec/core/example.rb:457:in `instance_exec'
rspec-core (3.13.0) lib/rspec/core/example.rb:457:in `instance_exec'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:390:in `execute_with'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:628:in `block (2 levels) in run_around_example_hooks_for'
rspec-core (3.13.0) lib/rspec/core/example.rb:352:in `call'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:629:in `run_around_example_hooks_for'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:486:in `run'
rspec-core (3.13.0) lib/rspec/core/example.rb:468:in `with_around_example_hooks'
rspec-core (3.13.0) lib/rspec/core/example.rb:511:in `with_around_and_singleton_context_hooks'
rspec-core (3.13.0) lib/rspec/core/example.rb:259:in `run'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:646:in `block in run_examples'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:642:in `map'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:642:in `run_examples'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:607:in `run'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:608:in `block in run'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:608:in `map'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:608:in `run'
rspec-core (3.13.0) lib/rspec/core/runner.rb:121:in `block (3 levels) in run_specs'
rspec-core (3.13.0) lib/rspec/core/runner.rb:121:in `map'
rspec-core (3.13.0) lib/rspec/core/runner.rb:121:in `block (2 levels) in run_specs'
rspec-core (3.13.0) lib/rspec/core/configuration.rb:2091:in `with_suite_hooks'
rspec-core (3.13.0) lib/rspec/core/runner.rb:116:in `block in run_specs'
rspec-core (3.13.0) lib/rspec/core/reporter.rb:74:in `report'
rspec-core (3.13.0) lib/rspec/core/runner.rb:115:in `run_specs'
rspec-core (3.13.0) lib/rspec/core/runner.rb:89:in `run'
rspec-core (3.13.0) lib/rspec/core/runner.rb:71:in `run'
rspec-core (3.13.0) lib/rspec/core/runner.rb:45:in `invoke'
rspec-core (3.13.0) exe/rspec:4:in `<top (required)>'
/home/hyperionel/.asdf/installs/ruby/3.1.2/bin/rspec:25:in `load'
/home/hyperionel/.asdf/installs/ruby/3.1.2/bin/rspec:25:in `<main>'
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (4.8ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started GET "/reports/1/bad/2019-01-01" for 127.0.0.1 at 2024-08-13 09:43:17 +0300
  
AbstractController::ActionNotFound (The action 'get' could not be found for ReportsController):
  
actionpack (7.2.0) lib/abstract_controller/base.rb:158:in `process'
actionpack (7.2.0) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (7.2.0) lib/action_controller/metal.rb:335:in `dispatch'
actionpack (7.2.0) lib/action_dispatch/routing/route_set.rb:67:in `dispatch'
actionpack (7.2.0) lib/action_dispatch/routing/route_set.rb:50:in `serve'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:53:in `block in serve'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:133:in `block in find_routes'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:126:in `each'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:126:in `find_routes'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:34:in `serve'
actionpack (7.2.0) lib/action_dispatch/routing/route_set.rb:896:in `call'
rack (3.1.7) lib/rack/etag.rb:29:in `call'
rack (3.1.7) lib/rack/conditional_get.rb:31:in `call'
rack (3.1.7) lib/rack/head.rb:15:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/callbacks.rb:31:in `block in call'
activesupport (7.2.0) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.2.0) lib/action_dispatch/middleware/callbacks.rb:30:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:31:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/show_exceptions.rb:32:in `call'
railties (7.2.0) lib/rails/rack/logger.rb:41:in `call_app'
railties (7.2.0) lib/rails/rack/logger.rb:29:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/remote_ip.rb:96:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/request_id.rb:33:in `call'
rack (3.1.7) lib/rack/runtime.rb:24:in `call'
activesupport (7.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/static.rb:27:in `call'
rack (3.1.7) lib/rack/sendfile.rb:114:in `call'
railties (7.2.0) lib/rails/engine.rb:535:in `call'
rack-test (2.1.0) lib/rack/test.rb:360:in `process_request'
rack-test (2.1.0) lib/rack/test.rb:153:in `request'
actionpack (7.2.0) lib/action_dispatch/testing/integration.rb:287:in `process'
actionpack (7.2.0) lib/action_dispatch/testing/integration.rb:19:in `get'
actionpack (7.2.0) lib/action_dispatch/testing/integration.rb:378:in `get'
spec/public_api.rb:21:in `get_report'
spec/api_validation_spec.rb:43:in `block (3 levels) in <top (required)>'
rspec-core (3.13.0) lib/rspec/core/example.rb:263:in `instance_exec'
rspec-core (3.13.0) lib/rspec/core/example.rb:263:in `block in run'
rspec-core (3.13.0) lib/rspec/core/example.rb:511:in `block in with_around_and_singleton_context_hooks'
rspec-core (3.13.0) lib/rspec/core/example.rb:468:in `block in with_around_example_hooks'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:486:in `block in run'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:626:in `block in run_around_example_hooks_for'
rspec-core (3.13.0) lib/rspec/core/example.rb:352:in `call'
rspec-rails (6.1.3) lib/rspec/rails/adapters.rb:75:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
rspec-core (3.13.0) lib/rspec/core/example.rb:457:in `instance_exec'
rspec-core (3.13.0) lib/rspec/core/example.rb:457:in `instance_exec'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:390:in `execute_with'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:628:in `block (2 levels) in run_around_example_hooks_for'
rspec-core (3.13.0) lib/rspec/core/example.rb:352:in `call'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:629:in `run_around_example_hooks_for'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:486:in `run'
rspec-core (3.13.0) lib/rspec/core/example.rb:468:in `with_around_example_hooks'
rspec-core (3.13.0) lib/rspec/core/example.rb:511:in `with_around_and_singleton_context_hooks'
rspec-core (3.13.0) lib/rspec/core/example.rb:259:in `run'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:646:in `block in run_examples'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:642:in `map'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:642:in `run_examples'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:607:in `run'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:608:in `block in run'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:608:in `map'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:608:in `run'
rspec-core (3.13.0) lib/rspec/core/runner.rb:121:in `block (3 levels) in run_specs'
rspec-core (3.13.0) lib/rspec/core/runner.rb:121:in `map'
rspec-core (3.13.0) lib/rspec/core/runner.rb:121:in `block (2 levels) in run_specs'
rspec-core (3.13.0) lib/rspec/core/configuration.rb:2091:in `with_suite_hooks'
rspec-core (3.13.0) lib/rspec/core/runner.rb:116:in `block in run_specs'
rspec-core (3.13.0) lib/rspec/core/reporter.rb:74:in `report'
rspec-core (3.13.0) lib/rspec/core/runner.rb:115:in `run_specs'
rspec-core (3.13.0) lib/rspec/core/runner.rb:89:in `run'
rspec-core (3.13.0) lib/rspec/core/runner.rb:71:in `run'
rspec-core (3.13.0) lib/rspec/core/runner.rb:45:in `invoke'
rspec-core (3.13.0) exe/rspec:4:in `<top (required)>'
/home/hyperionel/.asdf/installs/ruby/3.1.2/bin/rspec:25:in `load'
/home/hyperionel/.asdf/installs/ruby/3.1.2/bin/rspec:25:in `<main>'
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (13.2ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started GET "/reports/1/bad/2019-01-01" for 127.0.0.1 at 2024-08-13 09:43:43 +0300
  
AbstractController::ActionNotFound (The action 'get' could not be found for ReportsController):
  
actionpack (7.2.0) lib/abstract_controller/base.rb:158:in `process'
actionpack (7.2.0) lib/action_controller/metal.rb:252:in `dispatch'
actionpack (7.2.0) lib/action_controller/metal.rb:335:in `dispatch'
actionpack (7.2.0) lib/action_dispatch/routing/route_set.rb:67:in `dispatch'
actionpack (7.2.0) lib/action_dispatch/routing/route_set.rb:50:in `serve'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:53:in `block in serve'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:133:in `block in find_routes'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:126:in `each'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:126:in `find_routes'
actionpack (7.2.0) lib/action_dispatch/journey/router.rb:34:in `serve'
actionpack (7.2.0) lib/action_dispatch/routing/route_set.rb:896:in `call'
rack (3.1.7) lib/rack/etag.rb:29:in `call'
rack (3.1.7) lib/rack/conditional_get.rb:31:in `call'
rack (3.1.7) lib/rack/head.rb:15:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/callbacks.rb:31:in `block in call'
activesupport (7.2.0) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (7.2.0) lib/action_dispatch/middleware/callbacks.rb:30:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:31:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/show_exceptions.rb:32:in `call'
railties (7.2.0) lib/rails/rack/logger.rb:41:in `call_app'
railties (7.2.0) lib/rails/rack/logger.rb:29:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/remote_ip.rb:96:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/request_id.rb:33:in `call'
rack (3.1.7) lib/rack/runtime.rb:24:in `call'
activesupport (7.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (7.2.0) lib/action_dispatch/middleware/static.rb:27:in `call'
rack (3.1.7) lib/rack/sendfile.rb:114:in `call'
railties (7.2.0) lib/rails/engine.rb:535:in `call'
rack-test (2.1.0) lib/rack/test.rb:360:in `process_request'
rack-test (2.1.0) lib/rack/test.rb:153:in `request'
actionpack (7.2.0) lib/action_dispatch/testing/integration.rb:287:in `process'
actionpack (7.2.0) lib/action_dispatch/testing/integration.rb:19:in `get'
actionpack (7.2.0) lib/action_dispatch/testing/integration.rb:378:in `get'
spec/public_api.rb:21:in `get_report'
spec/api_validation_spec.rb:43:in `block (3 levels) in <top (required)>'
rspec-core (3.13.0) lib/rspec/core/example.rb:263:in `instance_exec'
rspec-core (3.13.0) lib/rspec/core/example.rb:263:in `block in run'
rspec-core (3.13.0) lib/rspec/core/example.rb:511:in `block in with_around_and_singleton_context_hooks'
rspec-core (3.13.0) lib/rspec/core/example.rb:468:in `block in with_around_example_hooks'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:486:in `block in run'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:626:in `block in run_around_example_hooks_for'
rspec-core (3.13.0) lib/rspec/core/example.rb:352:in `call'
rspec-rails (6.1.3) lib/rspec/rails/adapters.rb:75:in `block (2 levels) in <module:MinitestLifecycleAdapter>'
rspec-core (3.13.0) lib/rspec/core/example.rb:457:in `instance_exec'
rspec-core (3.13.0) lib/rspec/core/example.rb:457:in `instance_exec'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:390:in `execute_with'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:628:in `block (2 levels) in run_around_example_hooks_for'
rspec-core (3.13.0) lib/rspec/core/example.rb:352:in `call'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:629:in `run_around_example_hooks_for'
rspec-core (3.13.0) lib/rspec/core/hooks.rb:486:in `run'
rspec-core (3.13.0) lib/rspec/core/example.rb:468:in `with_around_example_hooks'
rspec-core (3.13.0) lib/rspec/core/example.rb:511:in `with_around_and_singleton_context_hooks'
rspec-core (3.13.0) lib/rspec/core/example.rb:259:in `run'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:646:in `block in run_examples'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:642:in `map'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:642:in `run_examples'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:607:in `run'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:608:in `block in run'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:608:in `map'
rspec-core (3.13.0) lib/rspec/core/example_group.rb:608:in `run'
rspec-core (3.13.0) lib/rspec/core/runner.rb:121:in `block (3 levels) in run_specs'
rspec-core (3.13.0) lib/rspec/core/runner.rb:121:in `map'
rspec-core (3.13.0) lib/rspec/core/runner.rb:121:in `block (2 levels) in run_specs'
rspec-core (3.13.0) lib/rspec/core/configuration.rb:2091:in `with_suite_hooks'
rspec-core (3.13.0) lib/rspec/core/runner.rb:116:in `block in run_specs'
rspec-core (3.13.0) lib/rspec/core/reporter.rb:74:in `report'
rspec-core (3.13.0) lib/rspec/core/runner.rb:115:in `run_specs'
rspec-core (3.13.0) lib/rspec/core/runner.rb:89:in `run'
rspec-core (3.13.0) lib/rspec/core/runner.rb:71:in `run'
rspec-core (3.13.0) lib/rspec/core/runner.rb:45:in `invoke'
rspec-core (3.13.0) exe/rspec:4:in `<top (required)>'
/home/hyperionel/.asdf/installs/ruby/3.1.2/bin/rspec:25:in `load'
/home/hyperionel/.asdf/installs/ruby/3.1.2/bin/rspec:25:in `<main>'
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (13.7ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started GET "/reports/1/bad/2019-01-01" for 127.0.0.1 at 2024-08-13 09:45:51 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"bad", "to"=>"2019-01-01"}
Completed 500 Internal Server Error in 253922ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 24.2ms)
  
NameError (uninitialized constant Report::Employee

    @from_date ||= date_parse(from)
                   ^^^^^^^^^^):
  
app/models/report.rb:23:in `employee_exists'
app/controllers/reports_controller.rb:8:in `get'
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (13.2ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started GET "/reports/1/bad/2019-01-01" for 127.0.0.1 at 2024-08-13 09:50:11 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"bad", "to"=>"2019-01-01"}
Completed 500 Internal Server Error in 5070ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 24.8ms)
  
NoMethodError (undefined method `generate' for #<Report:0x00007f6d6b3cdfb8 @employee_id="1", @from="bad", @to="2019-01-01", @validation_context=nil, @errors=#<ActiveModel::Errors []>>

      render json: report.generate, status: :ok
                         ^^^^^^^^^):
  
app/controllers/reports_controller.rb:9:in `get'
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (13.0ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started GET "/reports/1/bad/2019-01-01" for 127.0.0.1 at 2024-08-13 09:51:41 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"bad", "to"=>"2019-01-01"}
Completed 500 Internal Server Error in 2648ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 24.8ms)
  
NoMethodError (private method `generate' called for #<Report:0x000077b706350e78 @employee_id="1", @from="bad", @to="2019-01-01", @validation_context=nil, @errors=#<ActiveModel::Errors []>>

      render json: report.generate, status: :ok
                         ^^^^^^^^^):
  
app/controllers/reports_controller.rb:9:in `get'
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (13.4ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started GET "/reports/1/bad/2019-01-01" for 127.0.0.1 at 2024-08-13 09:52:24 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"bad", "to"=>"2019-01-01"}
Completed 500 Internal Server Error in 59744ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 27.1ms)
  
NoMethodError (private method `generate' called for #<Report:0x00007e194ed498e8 @employee_id="1", @from="bad", @to="2019-01-01", @validation_context=nil, @errors=#<ActiveModel::Errors []>>

      render json: report.generate, status: :ok
                         ^^^^^^^^^):
  
app/controllers/reports_controller.rb:9:in `get'
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (12.9ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started GET "/reports/1/bad/2019-01-01" for 127.0.0.1 at 2024-08-13 09:53:27 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"bad", "to"=>"2019-01-01"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events" WHERE "events"."employee_id" = ? AND "events"."timestamp" BETWEEN ? AND ?[0m  [["employee_id", 1], ["timestamp", -7200], ["timestamp", 79199]]
Completed 200 OK in 2495ms (Views: 0.1ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 24.9ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (6.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2024-08-13 12:16:34.534859', '2024-08-13 12:16:34.534861') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateEvents (20191005105728)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "events" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "employee_id" integer, "timestamp" datetime, "kind" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20191005105728') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "environment"]]
  [1m[36mActiveRecord::InternalMetadata Create (13.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'test', '2024-08-13 12:16:51.404897', '2024-08-13 12:16:51.404899') RETURNING "key"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateEvents (20191005105728)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "events" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "employee_id" integer, "timestamp" datetime, "kind" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20191005105728') RETURNING "version"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (4.6ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:16:54 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "kind"=>"bad", "timestamp"=>"1723551414"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Completed 500 Internal Server Error in 30ms (ActiveRecord: 0.3ms (0 queries, 0 cached) | GC: 24.4ms)
  
ArgumentError ('bad' is not a valid kind):
  
app/controllers/events_controller.rb:5:in `save'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:16:54 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "kind"=>"in", "timestamp"=>"bad"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.2ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", 0], ["created_at", "2024-08-13 12:16:54.305077"], ["updated_at", "2024-08-13 12:16:54.305077"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:16:54 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>nil, "kind"=>"in", "timestamp"=>"1723551414"}
Completed 422 Unprocessable Content in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:16:54 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "kind"=>"in", "timestamp"=>nil}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", 0], ["created_at", "2024-08-13 12:16:54.308521"], ["updated_at", "2024-08-13 12:16:54.308521"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:16:54 +0300
Processing by EventsController#save as HTML
Completed 422 Unprocessable Content in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.1ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:16:54 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "kind"=>nil, "timestamp"=>"1723551414"}
Completed 422 Unprocessable Content in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.1ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:16:54 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"bad", "kind"=>"in", "timestamp"=>"1723551414"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 0], ["timestamp", "1970-01-01 00:00:00"], ["kind", 0], ["created_at", "2024-08-13 12:16:54.311897"], ["updated_at", "2024-08-13 12:16:54.311897"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
Started GET "/reports/1/2019-01-01/bad" for 127.0.0.1 at 2024-08-13 15:16:54 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"2019-01-01", "to"=>"bad"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEvent Load (0.2ms)[0m  [1m[34mSELECT "events".* FROM "events" WHERE "events"."employee_id" = ? AND "events"."timestamp" BETWEEN ? AND ?[0m  [["employee_id", 1], ["timestamp", -7200], ["timestamp", 79199]]
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
Started GET "/reports/1/bad/2019-01-01" for 127.0.0.1 at 2024-08-13 15:16:54 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"bad", "to"=>"2019-01-01"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events" WHERE "events"."employee_id" = ? AND "events"."timestamp" BETWEEN ? AND ?[0m  [["employee_id", 1], ["timestamp", -7200], ["timestamp", 79199]]
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
Started GET "/reports/bad/2019-01-01/2019-02-02" for 127.0.0.1 at 2024-08-13 15:16:54 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"bad", "from"=>"2019-01-01", "to"=>"2019-02-02"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events" WHERE "events"."employee_id" = ? AND "events"."timestamp" BETWEEN ? AND ?[0m  [["employee_id", nil], ["timestamp", -7200], ["timestamp", 79199]]
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:16:54 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556687400", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", 0], ["created_at", "2024-08-13 12:16:54.322079"], ["updated_at", "2024-08-13 12:16:54.322079"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:16:54 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556715601", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", 1], ["created_at", "2024-08-13 12:16:54.323103"], ["updated_at", "2024-08-13 12:16:54.323103"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/reports/1/2019-05-01/2019-05-01" for 127.0.0.1 at 2024-08-13 15:16:54 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"2019-05-01", "to"=>"2019-05-01"}
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events" WHERE "events"."employee_id" = ? AND "events"."timestamp" BETWEEN ? AND ?[0m  [["employee_id", 1], ["timestamp", -7200], ["timestamp", 79199]]
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:16:54 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", 0], ["created_at", "2024-08-13 12:16:54.325095"], ["updated_at", "2024-08-13 12:16:54.325095"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:16:54 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556715600", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", 1], ["created_at", "2024-08-13 12:16:54.326099"], ["updated_at", "2024-08-13 12:16:54.326099"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:16:54 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556773200", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", 0], ["created_at", "2024-08-13 12:16:54.326925"], ["updated_at", "2024-08-13 12:16:54.326925"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:16:54 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556802000", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", 1], ["created_at", "2024-08-13 12:16:54.327857"], ["updated_at", "2024-08-13 12:16:54.327857"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/reports/1/2019-05-01/2019-05-30" for 127.0.0.1 at 2024-08-13 15:16:54 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"2019-05-01", "to"=>"2019-05-30"}
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events" WHERE "events"."employee_id" = ? AND "events"."timestamp" BETWEEN ? AND ?[0m  [["employee_id", 1], ["timestamp", -7200], ["timestamp", 79199]]
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:16:54 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", 0], ["created_at", "2024-08-13 12:16:54.331320"], ["updated_at", "2024-08-13 12:16:54.331320"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:16:54 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556773200", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", 0], ["created_at", "2024-08-13 12:16:54.332344"], ["updated_at", "2024-08-13 12:16:54.332344"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:16:54 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556802000", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", 1], ["created_at", "2024-08-13 12:16:54.333199"], ["updated_at", "2024-08-13 12:16:54.333199"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/reports/1/2019-05-01/2019-05-30" for 127.0.0.1 at 2024-08-13 15:16:54 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"2019-05-01", "to"=>"2019-05-30"}
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events" WHERE "events"."employee_id" = ? AND "events"."timestamp" BETWEEN ? AND ?[0m  [["employee_id", 1], ["timestamp", -7200], ["timestamp", 79199]]
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:16:54 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", 0], ["created_at", "2024-08-13 12:16:54.335743"], ["updated_at", "2024-08-13 12:16:54.335743"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:16:54 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556802000", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", 1], ["created_at", "2024-08-13 12:16:54.336798"], ["updated_at", "2024-08-13 12:16:54.336798"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/reports/1/2019-05-01/2019-05-30" for 127.0.0.1 at 2024-08-13 15:16:54 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"2019-05-01", "to"=>"2019-05-30"}
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events" WHERE "events"."employee_id" = ? AND "events"."timestamp" BETWEEN ? AND ?[0m  [["employee_id", 1], ["timestamp", -7200], ["timestamp", 79199]]
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (5.4ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:17:59 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"bad", "kind"=>"in", "timestamp"=>"1723551479"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 0], ["timestamp", "1970-01-01 00:00:00"], ["kind", 0], ["created_at", "2024-08-13 12:18:00.009366"], ["updated_at", "2024-08-13 12:18:00.009366"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 29ms (Views: 0.1ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 23.8ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:18:00 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "kind"=>nil, "timestamp"=>"1723551480"}
Completed 422 Unprocessable Content in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.1ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:18:00 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "kind"=>"bad", "timestamp"=>"1723551480"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.1ms)
  
ArgumentError ('bad' is not a valid kind):
  
app/controllers/events_controller.rb:5:in `save'
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:18:00 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>nil, "kind"=>"in", "timestamp"=>"1723551480"}
Completed 422 Unprocessable Content in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:18:00 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "kind"=>"in", "timestamp"=>nil}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.2ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", 0], ["created_at", "2024-08-13 12:18:00.112345"], ["updated_at", "2024-08-13 12:18:00.112345"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:18:00 +0300
Processing by EventsController#save as HTML
Completed 422 Unprocessable Content in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:18:00 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "kind"=>"in", "timestamp"=>"bad"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", 0], ["created_at", "2024-08-13 12:18:00.114957"], ["updated_at", "2024-08-13 12:18:00.114957"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
Started GET "/reports/bad/2019-01-01/2019-02-02" for 127.0.0.1 at 2024-08-13 15:18:00 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"bad", "from"=>"2019-01-01", "to"=>"2019-02-02"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events" WHERE "events"."employee_id" = ? AND "events"."timestamp" BETWEEN ? AND ?[0m  [["employee_id", nil], ["timestamp", -7200], ["timestamp", 79199]]
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
Started GET "/reports/1/2019-01-01/bad" for 127.0.0.1 at 2024-08-13 15:18:00 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"2019-01-01", "to"=>"bad"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events" WHERE "events"."employee_id" = ? AND "events"."timestamp" BETWEEN ? AND ?[0m  [["employee_id", 1], ["timestamp", -7200], ["timestamp", 79199]]
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
Started GET "/reports/1/bad/2019-01-01" for 127.0.0.1 at 2024-08-13 15:18:00 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"bad", "to"=>"2019-01-01"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events" WHERE "events"."employee_id" = ? AND "events"."timestamp" BETWEEN ? AND ?[0m  [["employee_id", 1], ["timestamp", -7200], ["timestamp", 79199]]
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (4.6ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started GET "/reports/1/bad/2019-01-01" for 127.0.0.1 at 2024-08-13 15:19:13 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"bad", "to"=>"2019-01-01"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events" WHERE "events"."employee_id" = ? AND "events"."timestamp" BETWEEN ? AND ?[0m  [["employee_id", 1], ["timestamp", -7200], ["timestamp", 79199]]
Completed 200 OK in 59436ms (Views: 0.1ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 25.6ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (4.7ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started GET "/reports/1/bad/2019-01-01" for 127.0.0.1 at 2024-08-13 15:20:14 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"bad", "to"=>"2019-01-01"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events" WHERE "events"."employee_id" = ? AND "events"."timestamp" BETWEEN ? AND ?[0m  [["employee_id", 1], ["timestamp", -7200], ["timestamp", 79199]]
Completed 200 OK in 348032ms (Views: 0.1ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 23.7ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (4.5ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started GET "/reports/1/bad/2019-01-01" for 127.0.0.1 at 2024-08-13 15:26:03 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"bad", "to"=>"2019-01-01"}
Completed 500 Internal Server Error in 33757ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 25.7ms)
  
NoMethodError (undefined method `date_parse' for #<Report:0x00007a1ab7f59a28 @employee_id="1", @from="bad", @to="2019-01-01", @validation_context=nil, @errors=#<ActiveModel::Errors []>>

    parsed_date(date_string)
    ^^^^^^^^^^^):
  
app/models/report.rb:30:in `valid_date?'
app/models/report.rb:25:in `valid_date_format'
app/controllers/reports_controller.rb:8:in `get'
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (13.4ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started GET "/reports/1/bad/2019-01-01" for 127.0.0.1 at 2024-08-13 15:26:39 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"bad", "to"=>"2019-01-01"}
Completed 422 Unprocessable Content in 6581ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 25.8ms)
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (12.9ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started GET "/reports/bad/2019-01-01/2019-02-02" for 127.0.0.1 at 2024-08-13 15:27:23 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"bad", "from"=>"2019-01-01", "to"=>"2019-02-02"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events" WHERE "events"."employee_id" = ? AND "events"."timestamp" BETWEEN ? AND ?[0m  [["employee_id", nil], ["timestamp", 1546300800], ["timestamp", 1549151999]]
Completed 200 OK in 28ms (Views: 0.1ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 22.9ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
Started GET "/reports/1/2019-01-01/bad" for 127.0.0.1 at 2024-08-13 15:27:23 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"2019-01-01", "to"=>"bad"}
Completed 400 Bad Request in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started GET "/reports/1/bad/2019-01-01" for 127.0.0.1 at 2024-08-13 15:27:23 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"bad", "to"=>"2019-01-01"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:27:23 +0300
Processing by EventsController#save as HTML
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Completed 400 Bad Request in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms (0 queries, 0 cached) | GC: 0.6ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:27:23 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "kind"=>nil, "timestamp"=>"1723552043"}
Completed 400 Bad Request in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.1ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:27:23 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "kind"=>"in", "timestamp"=>"bad"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.2ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", 0], ["created_at", "2024-08-13 12:27:23.373483"], ["updated_at", "2024-08-13 12:27:23.373483"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:27:23 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "kind"=>"in", "timestamp"=>nil}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", 0], ["created_at", "2024-08-13 12:27:23.375110"], ["updated_at", "2024-08-13 12:27:23.375110"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:27:23 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"bad", "kind"=>"in", "timestamp"=>"1723552043"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 0], ["timestamp", "1970-01-01 00:00:00"], ["kind", 0], ["created_at", "2024-08-13 12:27:23.376613"], ["updated_at", "2024-08-13 12:27:23.376613"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:27:23 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>nil, "kind"=>"in", "timestamp"=>"1723552043"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.1ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:27:23 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "kind"=>"bad", "timestamp"=>"1723552043"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  
ArgumentError ('bad' is not a valid kind):
  
app/controllers/events_controller.rb:5:in `save'
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (13.0ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started GET "/reports/1/2019-01-01/bad" for 127.0.0.1 at 2024-08-13 15:28:45 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"2019-01-01", "to"=>"bad"}
Completed 400 Bad Request in 2ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)
Started GET "/reports/1/bad/2019-01-01" for 127.0.0.1 at 2024-08-13 15:28:45 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"bad", "to"=>"2019-01-01"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started GET "/reports/bad/2019-01-01/2019-02-02" for 127.0.0.1 at 2024-08-13 15:28:45 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"bad", "from"=>"2019-01-01", "to"=>"2019-02-02"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:28:45 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "kind"=>"in", "timestamp"=>nil}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", 0], ["created_at", "2024-08-13 12:28:45.151176"], ["updated_at", "2024-08-13 12:28:45.151176"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.8ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:28:45 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "kind"=>nil, "timestamp"=>"1723552125"}
Completed 400 Bad Request in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:28:45 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "kind"=>"bad", "timestamp"=>"1723552125"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  
ArgumentError ('bad' is not a valid kind):
  
app/controllers/events_controller.rb:5:in `save'
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:28:45 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"bad", "kind"=>"in", "timestamp"=>"1723552125"}
Completed 400 Bad Request in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:28:45 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "kind"=>"in", "timestamp"=>"bad"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.2ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", 0], ["created_at", "2024-08-13 12:28:45.254238"], ["updated_at", "2024-08-13 12:28:45.254238"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:28:45 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>nil, "kind"=>"in", "timestamp"=>"1723552125"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:28:45 +0300
Processing by EventsController#save as HTML
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (13.2ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:28:49 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "kind"=>nil, "timestamp"=>"1723552129"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Completed 400 Bad Request in 30ms (Views: 0.2ms | ActiveRecord: 0.3ms (0 queries, 0 cached) | GC: 24.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:28:49 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "kind"=>"bad", "timestamp"=>"1723552129"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  
ArgumentError ('bad' is not a valid kind):
  
app/controllers/events_controller.rb:5:in `save'
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:28:50 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>nil, "kind"=>"in", "timestamp"=>"1723552130"}
Completed 400 Bad Request in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.1ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:28:50 +0300
Processing by EventsController#save as HTML
Completed 400 Bad Request in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.1ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:28:50 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "kind"=>"in", "timestamp"=>"bad"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.2ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", 0], ["created_at", "2024-08-13 12:28:50.026705"], ["updated_at", "2024-08-13 12:28:50.026705"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:28:50 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"bad", "kind"=>"in", "timestamp"=>"1723552130"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.1ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:28:50 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "kind"=>"in", "timestamp"=>nil}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.2ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", 0], ["created_at", "2024-08-13 12:28:50.029421"], ["updated_at", "2024-08-13 12:28:50.029421"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
Started GET "/reports/1/bad/2019-01-01" for 127.0.0.1 at 2024-08-13 15:28:50 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"bad", "to"=>"2019-01-01"}
Completed 400 Bad Request in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.1ms)
Started GET "/reports/1/2019-01-01/bad" for 127.0.0.1 at 2024-08-13 15:28:50 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"2019-01-01", "to"=>"bad"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started GET "/reports/bad/2019-01-01/2019-02-02" for 127.0.0.1 at 2024-08-13 15:28:50 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"bad", "from"=>"2019-01-01", "to"=>"2019-02-02"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:28:50 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", 0], ["created_at", "2024-08-13 12:28:50.034730"], ["updated_at", "2024-08-13 12:28:50.034730"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:28:50 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556715600", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", 1], ["created_at", "2024-08-13 12:28:50.035786"], ["updated_at", "2024-08-13 12:28:50.035786"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:28:50 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556773200", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", 0], ["created_at", "2024-08-13 12:28:50.036616"], ["updated_at", "2024-08-13 12:28:50.036616"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.1ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:28:50 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556802000", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", 1], ["created_at", "2024-08-13 12:28:50.037553"], ["updated_at", "2024-08-13 12:28:50.037553"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/reports/1/2019-05-01/2019-05-30" for 127.0.0.1 at 2024-08-13 15:28:50 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"2019-05-01", "to"=>"2019-05-30"}
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events" WHERE "events"."employee_id" = ? AND "events"."timestamp" BETWEEN ? AND ?[0m  [["employee_id", 1], ["timestamp", 1556668800], ["timestamp", 1559260799]]
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:28:50 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.2ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", 0], ["created_at", "2024-08-13 12:28:50.042270"], ["updated_at", "2024-08-13 12:28:50.042270"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.1ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:28:50 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556773200", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", 0], ["created_at", "2024-08-13 12:28:50.043319"], ["updated_at", "2024-08-13 12:28:50.043319"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:28:50 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556802000", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", 1], ["created_at", "2024-08-13 12:28:50.044258"], ["updated_at", "2024-08-13 12:28:50.044258"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.1ms)
Started GET "/reports/1/2019-05-01/2019-05-30" for 127.0.0.1 at 2024-08-13 15:28:50 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"2019-05-01", "to"=>"2019-05-30"}
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events" WHERE "events"."employee_id" = ? AND "events"."timestamp" BETWEEN ? AND ?[0m  [["employee_id", 1], ["timestamp", 1556668800], ["timestamp", 1559260799]]
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:28:50 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556687400", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", 0], ["created_at", "2024-08-13 12:28:50.046825"], ["updated_at", "2024-08-13 12:28:50.046825"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:28:50 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556715601", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", 1], ["created_at", "2024-08-13 12:28:50.047749"], ["updated_at", "2024-08-13 12:28:50.047749"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.1ms)
Started GET "/reports/1/2019-05-01/2019-05-01" for 127.0.0.1 at 2024-08-13 15:28:50 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"2019-05-01", "to"=>"2019-05-01"}
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events" WHERE "events"."employee_id" = ? AND "events"."timestamp" BETWEEN ? AND ?[0m  [["employee_id", 1], ["timestamp", 1556668800], ["timestamp", 1556755199]]
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:28:50 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", 0], ["created_at", "2024-08-13 12:28:50.049885"], ["updated_at", "2024-08-13 12:28:50.049885"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:28:50 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556802000", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.2ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", 1], ["created_at", "2024-08-13 12:28:50.050788"], ["updated_at", "2024-08-13 12:28:50.050788"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.1ms)
Started GET "/reports/1/2019-05-01/2019-05-30" for 127.0.0.1 at 2024-08-13 15:28:50 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"2019-05-01", "to"=>"2019-05-30"}
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events" WHERE "events"."employee_id" = ? AND "events"."timestamp" BETWEEN ? AND ?[0m  [["employee_id", 1], ["timestamp", 1556668800], ["timestamp", 1559260799]]
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (4.5ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:38:48 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", 0], ["created_at", "2024-08-13 12:38:48.848172"], ["updated_at", "2024-08-13 12:38:48.848172"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 28ms (Views: 0.1ms | ActiveRecord: 6.4ms (1 query, 0 cached) | GC: 23.1ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:38:48 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556715600", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", 1], ["created_at", "2024-08-13 12:38:48.850589"], ["updated_at", "2024-08-13 12:38:48.850589"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.1ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:38:48 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556773200", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", 0], ["created_at", "2024-08-13 12:38:48.851685"], ["updated_at", "2024-08-13 12:38:48.851685"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:38:48 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556802000", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", 1], ["created_at", "2024-08-13 12:38:48.852788"], ["updated_at", "2024-08-13 12:38:48.852788"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/reports/1/2019-05-01/2019-05-30" for 127.0.0.1 at 2024-08-13 15:38:48 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"2019-05-01", "to"=>"2019-05-30"}
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events" WHERE "events"."employee_id" = ? AND "events"."timestamp" BETWEEN ? AND ?[0m  [["employee_id", 1], ["timestamp", 1556668800], ["timestamp", 1559260799]]
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.5ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (12.9ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:44:37 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Completed 500 Internal Server Error in 30ms (ActiveRecord: 0.2ms (0 queries, 0 cached) | GC: 24.9ms)
  
ArgumentError (wrong number of arguments (given 0, expected 1)):
  
app/models/event.rb:11:in `timestamp_to_datetime'
app/controllers/events_controller.rb:6:in `save'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:44:37 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556687400", "kind"=>"in"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  
ArgumentError (wrong number of arguments (given 0, expected 1)):
  
app/models/event.rb:11:in `timestamp_to_datetime'
app/controllers/events_controller.rb:6:in `save'
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:44:38 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.1ms)
  
ArgumentError (wrong number of arguments (given 0, expected 1)):
  
app/models/event.rb:11:in `timestamp_to_datetime'
app/controllers/events_controller.rb:6:in `save'
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:44:38 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  
ArgumentError (wrong number of arguments (given 0, expected 1)):
  
app/models/event.rb:11:in `timestamp_to_datetime'
app/controllers/events_controller.rb:6:in `save'
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:44:38 +0300
Processing by EventsController#save as HTML
Completed 400 Bad Request in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:44:38 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"bad", "kind"=>"in", "timestamp"=>"1723553078"}
Completed 400 Bad Request in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:44:38 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "kind"=>"in", "timestamp"=>nil}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  
ArgumentError (wrong number of arguments (given 0, expected 1)):
  
app/models/event.rb:11:in `timestamp_to_datetime'
app/controllers/events_controller.rb:6:in `save'
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:44:38 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "kind"=>"in", "timestamp"=>"bad"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  
ArgumentError (wrong number of arguments (given 0, expected 1)):
  
app/models/event.rb:11:in `timestamp_to_datetime'
app/controllers/events_controller.rb:6:in `save'
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:44:38 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "kind"=>"bad", "timestamp"=>"1723553078"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.1ms)
  
ArgumentError ('bad' is not a valid kind):
  
app/controllers/events_controller.rb:5:in `save'
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:44:38 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>nil, "kind"=>"in", "timestamp"=>"1723553078"}
Completed 400 Bad Request in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:44:38 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "kind"=>nil, "timestamp"=>"1723553078"}
Completed 400 Bad Request in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.1ms)
Started GET "/reports/1/2019-01-01/bad" for 127.0.0.1 at 2024-08-13 15:44:38 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"2019-01-01", "to"=>"bad"}
Completed 400 Bad Request in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.1ms)
Started GET "/reports/bad/2019-01-01/2019-02-02" for 127.0.0.1 at 2024-08-13 15:44:38 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"bad", "from"=>"2019-01-01", "to"=>"2019-02-02"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started GET "/reports/1/bad/2019-01-01" for 127.0.0.1 at 2024-08-13 15:44:38 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"bad", "to"=>"2019-01-01"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (13.2ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:44:42 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Completed 500 Internal Server Error in 28ms (ActiveRecord: 0.3ms (0 queries, 0 cached) | GC: 22.8ms)
  
ArgumentError (wrong number of arguments (given 0, expected 1)):
  
app/models/event.rb:11:in `timestamp_to_datetime'
app/controllers/events_controller.rb:6:in `save'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (13.1ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:45:59 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.2ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", 0], ["created_at", "2024-08-13 12:47:11.222669"], ["updated_at", "2024-08-13 12:47:11.222669"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 71325ms (Views: 0.1ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 27.3ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:47:11 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556715600", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEvent Create (0.2ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", 1], ["created_at", "2024-08-13 12:47:52.127371"], ["updated_at", "2024-08-13 12:47:52.127371"]]
  [1m[36mTRANSACTION (13.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 40890ms (Views: 0.1ms | ActiveRecord: 13.7ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:47:52 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556773200", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEvent Create (0.2ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", 0], ["created_at", "2024-08-13 12:48:32.892510"], ["updated_at", "2024-08-13 12:48:32.892510"]]
  [1m[36mTRANSACTION (5.3ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 40734ms (Views: 0.1ms | ActiveRecord: 5.9ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:48:32 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556802000", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEvent Create (0.2ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", 1], ["created_at", "2024-08-13 12:48:59.108596"], ["updated_at", "2024-08-13 12:48:59.108596"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 43399ms (Views: 0.1ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/reports/1/2019-05-01/2019-05-30" for 127.0.0.1 at 2024-08-13 15:49:16 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"2019-05-01", "to"=>"2019-05-30"}
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events" WHERE "events"."employee_id" = ? AND "events"."timestamp" BETWEEN ? AND ?[0m  [["employee_id", 1], ["timestamp", 1556668800], ["timestamp", 1559260799]]
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (5.5ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:53:02 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
Completed 500 Internal Server Error in 31ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 23.0ms)
  
NoMethodError (undefined method `attr_accessible' for Event:Class
Did you mean?  attr_accessor):
  
app/models/event.rb:6:in `<class:Event>'
app/models/event.rb:3:in `<main>'
app/controllers/events_controller.rb:5:in `save'
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (13.0ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:53:14 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
Completed 500 Internal Server Error in 30ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 22.4ms)
  
NoMethodError (undefined method `attr_accessible' for Event:Class
Did you mean?  attr_accessor):
  
app/models/event.rb:6:in `<class:Event>'
app/models/event.rb:3:in `<main>'
app/controllers/events_controller.rb:5:in `save'
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (4.6ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:54:14 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
Completed 500 Internal Server Error in 30ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 22.7ms)
  
NoMethodError (undefined method `attr_accessible' for Event:Class
Did you mean?  attr_accessor):
  
app/models/event.rb:6:in `<class:Event>'
app/models/event.rb:3:in `<main>'
app/controllers/events_controller.rb:5:in `save'
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (12.9ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:55:58 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.2ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", 0], ["created_at", "2024-08-13 12:55:58.468565"], ["updated_at", "2024-08-13 12:55:58.468565"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 13959ms (Views: 0.1ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 23.9ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:56:12 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556715600", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.2ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", 1], ["created_at", "2024-08-13 12:56:12.401039"], ["updated_at", "2024-08-13 12:56:12.401039"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1378ms (Views: 0.1ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:56:13 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556773200", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.2ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", 0], ["created_at", "2024-08-13 12:56:13.780133"], ["updated_at", "2024-08-13 12:56:13.780133"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 824ms (Views: 0.1ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:56:14 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556802000", "kind"=>"out"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.3ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", 1], ["created_at", "2024-08-13 12:56:14.604695"], ["updated_at", "2024-08-13 12:56:14.604695"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 909ms (Views: 0.1ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/reports/1/2019-05-01/2019-05-30" for 127.0.0.1 at 2024-08-13 15:56:15 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"2019-05-01", "to"=>"2019-05-30"}
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events" WHERE "events"."employee_id" = ? AND "events"."timestamp" BETWEEN ? AND ?[0m  [["employee_id", 1], ["timestamp", 1556668800], ["timestamp", 1559260799]]
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (5.6ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:57:24 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.2ms)
  
NameError (undefined local variable or method `timestamp' for #<EventsController:0x00000000004fd8>

    event_params[:timestamp] = Time.at(timestamp.to_i).to_datetime
                                       ^^^^^^^^^):
  
app/controllers/events_controller.rb:5:in `save'
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (12.8ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:57:42 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.2ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", 0], ["created_at", "2024-08-13 12:58:03.221750"], ["updated_at", "2024-08-13 12:58:03.221750"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 22195ms (Views: 0.1ms | ActiveRecord: 11.9ms (1 query, 0 cached) | GC: 26.3ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:58:04 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556715600", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEvent Create (0.2ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", 1], ["created_at", "2024-08-13 12:58:05.003149"], ["updated_at", "2024-08-13 12:58:05.003149"]]
  [1m[36mTRANSACTION (4.7ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 1411ms (Views: 0.1ms | ActiveRecord: 5.3ms (1 query, 0 cached) | GC: 0.8ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:58:05 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556773200", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEvent Create (0.3ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", 0], ["created_at", "2024-08-13 12:58:06.320411"], ["updated_at", "2024-08-13 12:58:06.320411"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 1784ms (Views: 0.1ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.3ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:58:07 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556802000", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEvent Create (0.2ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", 1], ["created_at", "2024-08-13 12:58:08.291817"], ["updated_at", "2024-08-13 12:58:08.291817"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 1607ms (Views: 0.1ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/reports/1/2019-05-01/2019-05-30" for 127.0.0.1 at 2024-08-13 15:58:09 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"2019-05-01", "to"=>"2019-05-30"}
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events" WHERE "events"."employee_id" = ? AND "events"."timestamp" BETWEEN ? AND ?[0m  [["employee_id", 1], ["timestamp", 1556668800], ["timestamp", 1559260799]]
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (12.9ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 15:58:11 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.2ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", 0], ["created_at", "2024-08-13 13:00:26.416732"], ["updated_at", "2024-08-13 13:00:26.416732"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 136411ms (Views: 0.3ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 25.3ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:00:27 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556715600", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEvent Create (0.2ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-01 13:00:00"], ["kind", 1], ["created_at", "2024-08-13 13:00:27.764122"], ["updated_at", "2024-08-13 13:00:27.764122"]]
  [1m[36mTRANSACTION (5.3ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 871ms (Views: 0.1ms | ActiveRecord: 5.9ms (1 query, 0 cached) | GC: 0.2ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:00:28 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556773200", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-02 05:00:00"], ["kind", 0], ["created_at", "2024-08-13 13:00:28.655993"], ["updated_at", "2024-08-13 13:00:28.655993"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 476ms (Views: 0.1ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:00:28 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556802000", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEvent Create (0.2ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-02 13:00:00"], ["kind", 1], ["created_at", "2024-08-13 13:00:29.017007"], ["updated_at", "2024-08-13 13:00:29.017007"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 309ms (Views: 0.1ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/reports/1/2019-05-01/2019-05-30" for 127.0.0.1 at 2024-08-13 16:00:29 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"2019-05-01", "to"=>"2019-05-30"}
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events" WHERE "events"."employee_id" = ? AND "events"."timestamp" BETWEEN ? AND ?[0m  [["employee_id", 1], ["timestamp", 1556668800], ["timestamp", 1559260799]]
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (5.8ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:00:33 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.2ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-01 05:00:00"], ["kind", 0], ["created_at", "2024-08-13 13:00:54.866353"], ["updated_at", "2024-08-13 13:00:54.866353"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 32813ms (Views: 0.1ms | ActiveRecord: 0.6ms (1 query, 0 cached) | GC: 26.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:01:06 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556715600", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-01 13:00:00"], ["kind", 1], ["created_at", "2024-08-13 13:01:07.019506"], ["updated_at", "2024-08-13 13:01:07.019506"]]
  [1m[36mTRANSACTION (9.6ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 351ms (Views: 0.1ms | ActiveRecord: 10.1ms (1 query, 0 cached) | GC: 0.2ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:01:07 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556773200", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEvent Create (0.2ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-02 05:00:00"], ["kind", 0], ["created_at", "2024-08-13 13:01:07.318810"], ["updated_at", "2024-08-13 13:01:07.318810"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 289ms (Views: 0.1ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:01:07 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556802000", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-02 13:00:00"], ["kind", 1], ["created_at", "2024-08-13 13:01:07.580713"], ["updated_at", "2024-08-13 13:01:07.580713"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 261ms (Views: 0.1ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/reports/1/2019-05-01/2019-05-30" for 127.0.0.1 at 2024-08-13 16:01:07 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"2019-05-01", "to"=>"2019-05-30"}
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events" WHERE "events"."employee_id" = ? AND "events"."timestamp" BETWEEN ? AND ?[0m  [["employee_id", 1], ["timestamp", 1556668800], ["timestamp", 1559260799]]
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (5.7ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:01:26 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.2ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-01 05:00:00"], ["kind", 0], ["created_at", "2024-08-13 13:02:05.388825"], ["updated_at", "2024-08-13 13:02:05.388825"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 39110ms (Views: 0.2ms | ActiveRecord: 0.5ms (1 query, 0 cached) | GC: 25.4ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:02:05 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556715600", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.2ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-01 13:00:00"], ["kind", 1], ["created_at", "2024-08-13 13:02:07.707563"], ["updated_at", "2024-08-13 13:02:07.707563"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 2317ms (Views: 0.1ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:02:07 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556773200", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.2ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-02 05:00:00"], ["kind", 0], ["created_at", "2024-08-13 13:02:09.672910"], ["updated_at", "2024-08-13 13:02:09.672910"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1964ms (Views: 0.1ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:02:09 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556802000", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.2ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-02 13:00:00"], ["kind", 1], ["created_at", "2024-08-13 13:02:10.579384"], ["updated_at", "2024-08-13 13:02:10.579384"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 906ms (Views: 0.1ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/reports/1/2019-05-01/2019-05-30" for 127.0.0.1 at 2024-08-13 16:02:10 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"2019-05-01", "to"=>"2019-05-30"}
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events" WHERE "events"."employee_id" = ? AND "events"."timestamp" BETWEEN ? AND ?[0m  [["employee_id", 1], ["timestamp", 1556668800], ["timestamp", 1559260799]]
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (5.4ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:11:29 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:14:07 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.2ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-01 05:00:00"], ["kind", 0], ["created_at", "2024-08-13 13:14:13.817633"], ["updated_at", "2024-08-13 13:14:13.817633"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6360ms (Views: 0.1ms | ActiveRecord: 7.4ms (1 query, 0 cached) | GC: 25.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:14:13 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556715600", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.2ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-01 13:00:00"], ["kind", 1], ["created_at", "2024-08-13 13:14:15.008622"], ["updated_at", "2024-08-13 13:14:15.008622"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1189ms (Views: 0.1ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:14:15 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556773200", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.2ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-02 05:00:00"], ["kind", 0], ["created_at", "2024-08-13 13:14:17.342622"], ["updated_at", "2024-08-13 13:14:17.342622"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 2333ms (Views: 0.1ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:14:17 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556802000", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.2ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-02 13:00:00"], ["kind", 1], ["created_at", "2024-08-13 13:14:18.326237"], ["updated_at", "2024-08-13 13:14:18.326237"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 983ms (Views: 0.1ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/reports/1/2019-05-01/2019-05-30" for 127.0.0.1 at 2024-08-13 16:14:18 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"2019-05-01", "to"=>"2019-05-30"}
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events" WHERE "events"."employee_id" = ? AND "events"."timestamp" BETWEEN ? AND ?[0m  [["employee_id", 1], ["timestamp", 1556668800], ["timestamp", 1559260799]]
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:20:40 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-01 05:00:00"], ["kind", 0], ["created_at", "2024-08-13 13:20:40.251846"], ["updated_at", "2024-08-13 13:20:40.251846"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 28ms (Views: 0.1ms | ActiveRecord: 6.9ms (1 query, 0 cached) | GC: 23.2ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:20:40 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556715600", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-01 13:00:00"], ["kind", 1], ["created_at", "2024-08-13 13:20:40.253939"], ["updated_at", "2024-08-13 13:20:40.253939"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:20:40 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556773200", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-02 05:00:00"], ["kind", 0], ["created_at", "2024-08-13 13:20:40.254944"], ["updated_at", "2024-08-13 13:20:40.254944"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.1ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:20:40 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556802000", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-02 13:00:00"], ["kind", 1], ["created_at", "2024-08-13 13:20:40.255910"], ["updated_at", "2024-08-13 13:20:40.255910"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/reports/1/2019-05-01/2019-05-30" for 127.0.0.1 at 2024-08-13 16:20:40 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"2019-05-01", "to"=>"2019-05-30"}
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events" WHERE "events"."employee_id" = ? AND "events"."timestamp" BETWEEN ? AND ?[0m  [["employee_id", 1], ["timestamp", 1556668800], ["timestamp", 1559260799]]
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:21:21 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-01 05:00:00"], ["kind", 0], ["created_at", "2024-08-13 13:21:21.417260"], ["updated_at", "2024-08-13 13:21:21.417260"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 31ms (Views: 0.1ms | ActiveRecord: 5.0ms (1 query, 0 cached) | GC: 25.8ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:21:21 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556715600", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-01 13:00:00"], ["kind", 1], ["created_at", "2024-08-13 13:21:21.419572"], ["updated_at", "2024-08-13 13:21:21.419572"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.1ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:21:21 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556773200", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-02 05:00:00"], ["kind", 0], ["created_at", "2024-08-13 13:21:21.420761"], ["updated_at", "2024-08-13 13:21:21.420761"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.1ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:21:21 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556802000", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-02 13:00:00"], ["kind", 1], ["created_at", "2024-08-13 13:21:21.421900"], ["updated_at", "2024-08-13 13:21:21.421900"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.1ms)
Started GET "/reports/1/2019-05-01/2019-05-30" for 127.0.0.1 at 2024-08-13 16:21:21 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"2019-05-01", "to"=>"2019-05-30"}
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events" WHERE "events"."employee_id" = ? AND "events"."timestamp" BETWEEN ? AND ?[0m  [["employee_id", 1], ["timestamp", 1556668800], ["timestamp", 1559260799]]
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.5ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:21:36 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.2ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-01 05:00:00"], ["kind", 0], ["created_at", "2024-08-13 13:21:36.219587"], ["updated_at", "2024-08-13 13:21:36.219587"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 29ms (Views: 0.1ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 23.9ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:21:36 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556715600", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-01 13:00:00"], ["kind", 1], ["created_at", "2024-08-13 13:21:36.221780"], ["updated_at", "2024-08-13 13:21:36.221780"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.1ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:21:36 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556773200", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-02 05:00:00"], ["kind", 0], ["created_at", "2024-08-13 13:21:36.222917"], ["updated_at", "2024-08-13 13:21:36.222917"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.1ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:21:36 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556802000", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-02 13:00:00"], ["kind", 1], ["created_at", "2024-08-13 13:21:36.223908"], ["updated_at", "2024-08-13 13:21:36.223908"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.1ms)
Started GET "/reports/1/2019-05-01/2019-05-30" for 127.0.0.1 at 2024-08-13 16:21:36 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"2019-05-01", "to"=>"2019-05-30"}
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events" WHERE "events"."employee_id" = ? AND "events"."timestamp" BETWEEN ? AND ?[0m  [["employee_id", 1], ["timestamp", 1556668800], ["timestamp", 1559260799]]
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.5ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:23:34 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-01 05:00:00"], ["kind", 0], ["created_at", "2024-08-13 13:23:34.390559"], ["updated_at", "2024-08-13 13:23:34.390559"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 30ms (Views: 0.1ms | ActiveRecord: 5.4ms (1 query, 0 cached) | GC: 24.9ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:23:34 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556715600", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-01 13:00:00"], ["kind", 1], ["created_at", "2024-08-13 13:23:34.392796"], ["updated_at", "2024-08-13 13:23:34.392796"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.1ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:23:34 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556773200", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-02 05:00:00"], ["kind", 0], ["created_at", "2024-08-13 13:23:34.393957"], ["updated_at", "2024-08-13 13:23:34.393957"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.1ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:23:34 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556802000", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-02 13:00:00"], ["kind", 1], ["created_at", "2024-08-13 13:23:34.394908"], ["updated_at", "2024-08-13 13:23:34.394908"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.1ms)
Started GET "/reports/1/2019-05-01/2019-05-30" for 127.0.0.1 at 2024-08-13 16:23:34 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"2019-05-01", "to"=>"2019-05-30"}
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events" WHERE "events"."employee_id" = ? AND "events"."timestamp" BETWEEN ? AND ?[0m  [["employee_id", 1], ["timestamp", 1556668800], ["timestamp", 1559260799]]
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.6ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:23:47 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-01 05:00:00"], ["kind", 0], ["created_at", "2024-08-13 13:23:47.607876"], ["updated_at", "2024-08-13 13:23:47.607876"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 29ms (Views: 0.1ms | ActiveRecord: 6.5ms (1 query, 0 cached) | GC: 23.6ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:23:47 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556715600", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-01 13:00:00"], ["kind", 1], ["created_at", "2024-08-13 13:23:47.610066"], ["updated_at", "2024-08-13 13:23:47.610066"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.1ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:23:47 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556773200", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-02 05:00:00"], ["kind", 0], ["created_at", "2024-08-13 13:23:47.611212"], ["updated_at", "2024-08-13 13:23:47.611212"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.1ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:23:47 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556802000", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-02 13:00:00"], ["kind", 1], ["created_at", "2024-08-13 13:23:47.612230"], ["updated_at", "2024-08-13 13:23:47.612230"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.1ms)
Started GET "/reports/1/2019-05-01/2019-05-30" for 127.0.0.1 at 2024-08-13 16:23:47 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"2019-05-01", "to"=>"2019-05-30"}
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events" WHERE "events"."employee_id" = ? AND "events"."timestamp" BETWEEN ? AND ?[0m  [["employee_id", 1], ["timestamp", 1556668800], ["timestamp", 1559260799]]
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events" /* loading for pp */ LIMIT ?[0m  [["LIMIT", 11]]
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events" WHERE "events"."employee_id" = ? AND "events"."timestamp" BETWEEN ? AND ? /* loading for pp */ LIMIT ?[0m  [["employee_id", 1], ["timestamp", "2019-05-01 00:00:00"], ["timestamp", "2019-05-30 23:59:59.999999"], ["LIMIT", 11]]
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events" WHERE "events"."employee_id" = ? AND "events"."timestamp" BETWEEN ? AND ?[0m  [["employee_id", 1], ["timestamp", "2019-05-01 00:00:00"], ["timestamp", "2019-05-30 23:59:59.999999"]]
Completed 200 OK in 302591ms (Views: 0.1ms | ActiveRecord: 0.3ms (4 queries, 0 cached) | GC: 1.9ms)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:28:53 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.2ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-01 05:00:00"], ["kind", 0], ["created_at", "2024-08-13 13:28:53.176171"], ["updated_at", "2024-08-13 13:28:53.176171"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 30ms (Views: 0.1ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 24.8ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:28:53 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556715600", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-01 13:00:00"], ["kind", 1], ["created_at", "2024-08-13 13:28:53.178686"], ["updated_at", "2024-08-13 13:28:53.178686"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:28:53 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556773200", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-02 05:00:00"], ["kind", 0], ["created_at", "2024-08-13 13:28:53.179836"], ["updated_at", "2024-08-13 13:28:53.179836"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:28:53 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556802000", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-02 13:00:00"], ["kind", 1], ["created_at", "2024-08-13 13:28:53.180745"], ["updated_at", "2024-08-13 13:28:53.180745"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.1ms)
Started GET "/reports/1/2019-05-01/2019-05-30" for 127.0.0.1 at 2024-08-13 16:28:53 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"2019-05-01", "to"=>"2019-05-30"}
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events" WHERE "events"."employee_id" = ? AND "events"."timestamp" BETWEEN ? AND ?[0m  [["employee_id", 1], ["timestamp", "2019-05-01 00:00:00"], ["timestamp", "2019-05-30 23:59:59.999999"]]
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:29:13 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.2ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-01 05:00:00"], ["kind", 0], ["created_at", "2024-08-13 13:29:13.082791"], ["updated_at", "2024-08-13 13:29:13.082791"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 28ms (Views: 0.1ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 23.1ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:29:13 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556715600", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-01 13:00:00"], ["kind", 1], ["created_at", "2024-08-13 13:29:13.085197"], ["updated_at", "2024-08-13 13:29:13.085197"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:29:13 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556773200", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-02 05:00:00"], ["kind", 0], ["created_at", "2024-08-13 13:29:13.086275"], ["updated_at", "2024-08-13 13:29:13.086275"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:29:13 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556802000", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-02 13:00:00"], ["kind", 1], ["created_at", "2024-08-13 13:29:13.087121"], ["updated_at", "2024-08-13 13:29:13.087121"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.1ms)
Started GET "/reports/1/2019-05-01/2019-05-30" for 127.0.0.1 at 2024-08-13 16:29:13 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"2019-05-01", "to"=>"2019-05-30"}
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events" WHERE "events"."employee_id" = ? AND "events"."timestamp" BETWEEN ? AND ?[0m  [["employee_id", 1], ["timestamp", "2019-05-01 00:00:00"], ["timestamp", "2019-05-30 23:59:59.999999"]]
Completed 200 OK in 16320ms (Views: 0.1ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.5ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:34:34 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.2ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-01 05:00:00"], ["kind", 0], ["created_at", "2024-08-13 13:34:34.252894"], ["updated_at", "2024-08-13 13:34:34.252894"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 30ms (Views: 0.1ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 24.9ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:34:34 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556715600", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-01 13:00:00"], ["kind", 1], ["created_at", "2024-08-13 13:34:34.255304"], ["updated_at", "2024-08-13 13:34:34.255304"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:34:34 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556773200", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-02 05:00:00"], ["kind", 0], ["created_at", "2024-08-13 13:34:34.256431"], ["updated_at", "2024-08-13 13:34:34.256431"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:34:34 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556802000", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-02 13:00:00"], ["kind", 1], ["created_at", "2024-08-13 13:34:34.257293"], ["updated_at", "2024-08-13 13:34:34.257293"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.1ms)
Started GET "/reports/1/2019-05-01/2019-05-30" for 127.0.0.1 at 2024-08-13 16:34:34 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"2019-05-01", "to"=>"2019-05-30"}
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events" WHERE "events"."employee_id" = ? AND "events"."timestamp" BETWEEN ? AND ?[0m  [["employee_id", 1], ["timestamp", "2019-05-01 00:00:00"], ["timestamp", "2019-05-30 23:59:59.999999"]]
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (0.2ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:35:47 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-01 05:00:00"], ["kind", 0], ["created_at", "2024-08-13 13:35:47.230934"], ["updated_at", "2024-08-13 13:35:47.230934"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 31ms (Views: 0.1ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 25.5ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:35:47 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556715600", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-01 13:00:00"], ["kind", 1], ["created_at", "2024-08-13 13:35:47.233100"], ["updated_at", "2024-08-13 13:35:47.233100"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.1ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:35:47 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556773200", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-02 05:00:00"], ["kind", 0], ["created_at", "2024-08-13 13:35:47.234236"], ["updated_at", "2024-08-13 13:35:47.234236"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.1ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:35:47 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556802000", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-02 13:00:00"], ["kind", 1], ["created_at", "2024-08-13 13:35:47.235247"], ["updated_at", "2024-08-13 13:35:47.235247"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.1ms)
Started GET "/reports/1/2019-05-01/2019-05-30" for 127.0.0.1 at 2024-08-13 16:35:47 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"2019-05-01", "to"=>"2019-05-30"}
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events" WHERE "events"."employee_id" = ? AND "events"."timestamp" BETWEEN ? AND ?[0m  [["employee_id", 1], ["timestamp", "2019-05-01 00:00:00"], ["timestamp", "2019-05-30 23:59:59.999999"]]
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.6ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:37:18 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-01 05:00:00"], ["kind", 0], ["created_at", "2024-08-13 13:37:18.949495"], ["updated_at", "2024-08-13 13:37:18.949495"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 29ms (Views: 0.1ms | ActiveRecord: 11.4ms (1 query, 0 cached) | GC: 23.4ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:37:18 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556715600", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-01 13:00:00"], ["kind", 1], ["created_at", "2024-08-13 13:37:18.951691"], ["updated_at", "2024-08-13 13:37:18.951691"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.1ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:37:18 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556773200", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-02 05:00:00"], ["kind", 0], ["created_at", "2024-08-13 13:37:18.952864"], ["updated_at", "2024-08-13 13:37:18.952864"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.1ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:37:18 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556802000", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-02 13:00:00"], ["kind", 1], ["created_at", "2024-08-13 13:37:18.953910"], ["updated_at", "2024-08-13 13:37:18.953910"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.1ms)
Started GET "/reports/1/2019-05-01/2019-05-30" for 127.0.0.1 at 2024-08-13 16:37:18 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"2019-05-01", "to"=>"2019-05-30"}
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events" WHERE "events"."employee_id" = ? AND "events"."timestamp" BETWEEN ? AND ?[0m  [["employee_id", 1], ["timestamp", "2019-05-01 00:00:00"], ["timestamp", "2019-05-30 23:59:59.999999"]]
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.6ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:37:38 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-01 05:00:00"], ["kind", 0], ["created_at", "2024-08-13 13:37:38.037409"], ["updated_at", "2024-08-13 13:37:38.037409"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 28ms (Views: 0.1ms | ActiveRecord: 11.2ms (1 query, 0 cached) | GC: 23.1ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:37:38 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556715600", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-01 13:00:00"], ["kind", 1], ["created_at", "2024-08-13 13:37:38.039584"], ["updated_at", "2024-08-13 13:37:38.039584"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.1ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:37:38 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556773200", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-02 05:00:00"], ["kind", 0], ["created_at", "2024-08-13 13:37:38.040717"], ["updated_at", "2024-08-13 13:37:38.040717"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.1ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:37:38 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556802000", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-02 13:00:00"], ["kind", 1], ["created_at", "2024-08-13 13:37:38.041703"], ["updated_at", "2024-08-13 13:37:38.041703"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.1ms)
Started GET "/reports/1/2019-05-01/2019-05-30" for 127.0.0.1 at 2024-08-13 16:37:38 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"2019-05-01", "to"=>"2019-05-30"}
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events" WHERE "events"."employee_id" = ? AND "events"."timestamp" BETWEEN ? AND ?[0m  [["employee_id", 1], ["timestamp", "2019-05-01 00:00:00"], ["timestamp", "2019-05-30 23:59:59.999999"]]
Completed 200 OK in 104632ms (Views: 0.1ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 3.7ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:39:25 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-01 05:00:00"], ["kind", 0], ["created_at", "2024-08-13 13:39:25.543823"], ["updated_at", "2024-08-13 13:39:25.543823"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 29ms (Views: 0.1ms | ActiveRecord: 11.5ms (1 query, 0 cached) | GC: 23.8ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:39:25 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556715600", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-01 13:00:00"], ["kind", 1], ["created_at", "2024-08-13 13:39:25.545805"], ["updated_at", "2024-08-13 13:39:25.545805"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.1ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:39:25 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556773200", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-02 05:00:00"], ["kind", 0], ["created_at", "2024-08-13 13:39:25.546922"], ["updated_at", "2024-08-13 13:39:25.546922"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:39:25 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556802000", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-02 13:00:00"], ["kind", 1], ["created_at", "2024-08-13 13:39:25.547844"], ["updated_at", "2024-08-13 13:39:25.547844"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/reports/1/2019-05-01/2019-05-30" for 127.0.0.1 at 2024-08-13 16:39:25 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"2019-05-01", "to"=>"2019-05-30"}
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events" WHERE "events"."employee_id" = ? AND "events"."timestamp" BETWEEN ? AND ?[0m  [["employee_id", 1], ["timestamp", "2019-05-01 00:00:00"], ["timestamp", "2019-05-30 23:59:59.999999"]]
Completed 200 OK in 248519ms (Views: 0.1ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.3ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:43:39 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-01 05:00:00"], ["kind", 0], ["created_at", "2024-08-13 13:43:39.059258"], ["updated_at", "2024-08-13 13:43:39.059258"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 32ms (Views: 0.1ms | ActiveRecord: 7.3ms (1 query, 0 cached) | GC: 26.5ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:43:39 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556715600", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-01 13:00:00"], ["kind", 1], ["created_at", "2024-08-13 13:43:39.061458"], ["updated_at", "2024-08-13 13:43:39.061458"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.1ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:43:39 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556773200", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-02 05:00:00"], ["kind", 0], ["created_at", "2024-08-13 13:43:39.062644"], ["updated_at", "2024-08-13 13:43:39.062644"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.1ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:43:39 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556802000", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-02 13:00:00"], ["kind", 1], ["created_at", "2024-08-13 13:43:39.063718"], ["updated_at", "2024-08-13 13:43:39.063718"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.1ms)
Started GET "/reports/1/2019-05-01/2019-05-30" for 127.0.0.1 at 2024-08-13 16:43:39 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"2019-05-01", "to"=>"2019-05-30"}
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events" WHERE "events"."employee_id" = ? AND "events"."timestamp" BETWEEN ? AND ?[0m  [["employee_id", 1], ["timestamp", "2019-05-01 00:00:00"], ["timestamp", "2019-05-30 23:59:59.999999"]]
Completed 200 OK in 13439ms (Views: 0.1ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 3.8ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:44:56 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-01 05:00:00"], ["kind", 0], ["created_at", "2024-08-13 13:44:56.665384"], ["updated_at", "2024-08-13 13:44:56.665384"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 30ms (Views: 0.1ms | ActiveRecord: 11.9ms (1 query, 0 cached) | GC: 24.3ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:44:56 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556715600", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-01 13:00:00"], ["kind", 1], ["created_at", "2024-08-13 13:44:56.667577"], ["updated_at", "2024-08-13 13:44:56.667577"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.1ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:44:56 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556773200", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-02 05:00:00"], ["kind", 0], ["created_at", "2024-08-13 13:44:56.668717"], ["updated_at", "2024-08-13 13:44:56.668717"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.1ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:44:56 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556802000", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-02 13:00:00"], ["kind", 1], ["created_at", "2024-08-13 13:44:56.669717"], ["updated_at", "2024-08-13 13:44:56.669717"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.1ms)
Started GET "/reports/1/2019-05-01/2019-05-30" for 127.0.0.1 at 2024-08-13 16:44:56 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"2019-05-01", "to"=>"2019-05-30"}
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events" WHERE "events"."employee_id" = ? AND "events"."timestamp" BETWEEN ? AND ?[0m  [["employee_id", 1], ["timestamp", "2019-05-01 00:00:00"], ["timestamp", "2019-05-30 23:59:59.999999"]]
Completed 200 OK in 92519ms (Views: 0.1ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 4.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:48:33 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-01 05:00:00"], ["kind", 0], ["created_at", "2024-08-13 13:48:33.134361"], ["updated_at", "2024-08-13 13:48:33.134361"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 31ms (Views: 0.1ms | ActiveRecord: 12.1ms (1 query, 0 cached) | GC: 26.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:48:33 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556715600", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-01 13:00:00"], ["kind", 1], ["created_at", "2024-08-13 13:48:33.136787"], ["updated_at", "2024-08-13 13:48:33.136787"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.1ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:48:33 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556773200", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-02 05:00:00"], ["kind", 0], ["created_at", "2024-08-13 13:48:33.137969"], ["updated_at", "2024-08-13 13:48:33.137969"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.1ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:48:33 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556802000", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-02 13:00:00"], ["kind", 1], ["created_at", "2024-08-13 13:48:33.139031"], ["updated_at", "2024-08-13 13:48:33.139031"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.1ms)
Started GET "/reports/1/2019-05-01/2019-05-30" for 127.0.0.1 at 2024-08-13 16:48:33 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"2019-05-01", "to"=>"2019-05-30"}
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events" WHERE "events"."employee_id" = ? AND "events"."timestamp" BETWEEN ? AND ?[0m  [["employee_id", 1], ["timestamp", "2019-05-01 00:00:00"], ["timestamp", "2019-05-30 23:59:59.999999"]]
Completed 200 OK in 3197ms (Views: 0.1ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 3.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:48:46 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-01 05:00:00"], ["kind", 0], ["created_at", "2024-08-13 13:48:46.738149"], ["updated_at", "2024-08-13 13:48:46.738149"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 30ms (Views: 0.1ms | ActiveRecord: 7.2ms (1 query, 0 cached) | GC: 24.4ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:48:46 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556715600", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-01 13:00:00"], ["kind", 1], ["created_at", "2024-08-13 13:48:46.740379"], ["updated_at", "2024-08-13 13:48:46.740379"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.1ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:48:46 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556773200", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-02 05:00:00"], ["kind", 0], ["created_at", "2024-08-13 13:48:46.741542"], ["updated_at", "2024-08-13 13:48:46.741542"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.1ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:48:46 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556802000", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-02 13:00:00"], ["kind", 1], ["created_at", "2024-08-13 13:48:46.742540"], ["updated_at", "2024-08-13 13:48:46.742540"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.1ms)
Started GET "/reports/1/2019-05-01/2019-05-30" for 127.0.0.1 at 2024-08-13 16:48:46 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"2019-05-01", "to"=>"2019-05-30"}
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events" WHERE "events"."employee_id" = ? AND "events"."timestamp" BETWEEN ? AND ?[0m  [["employee_id", 1], ["timestamp", "2019-05-01 00:00:00"], ["timestamp", "2019-05-30 23:59:59.999999"]]
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.6ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:48:49 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-01 05:00:00"], ["kind", 0], ["created_at", "2024-08-13 13:48:49.396065"], ["updated_at", "2024-08-13 13:48:49.396065"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 30ms (Views: 0.1ms | ActiveRecord: 6.6ms (1 query, 0 cached) | GC: 24.6ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:48:49 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556802000", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-02 13:00:00"], ["kind", 1], ["created_at", "2024-08-13 13:48:49.398491"], ["updated_at", "2024-08-13 13:48:49.398491"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.1ms)
Started GET "/reports/1/2019-05-01/2019-05-30" for 127.0.0.1 at 2024-08-13 16:48:49 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"2019-05-01", "to"=>"2019-05-30"}
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events" WHERE "events"."employee_id" = ? AND "events"."timestamp" BETWEEN ? AND ?[0m  [["employee_id", 1], ["timestamp", "2019-05-01 00:00:00"], ["timestamp", "2019-05-30 23:59:59.999999"]]
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.2ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:48:49 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-01 05:00:00"], ["kind", 0], ["created_at", "2024-08-13 13:48:49.402962"], ["updated_at", "2024-08-13 13:48:49.402962"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:48:49 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556773200", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-02 05:00:00"], ["kind", 0], ["created_at", "2024-08-13 13:48:49.404023"], ["updated_at", "2024-08-13 13:48:49.404023"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:48:49 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556802000", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-02 13:00:00"], ["kind", 1], ["created_at", "2024-08-13 13:48:49.404859"], ["updated_at", "2024-08-13 13:48:49.404859"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.1ms)
Started GET "/reports/1/2019-05-01/2019-05-30" for 127.0.0.1 at 2024-08-13 16:48:49 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"2019-05-01", "to"=>"2019-05-30"}
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events" WHERE "events"."employee_id" = ? AND "events"."timestamp" BETWEEN ? AND ?[0m  [["employee_id", 1], ["timestamp", "2019-05-01 00:00:00"], ["timestamp", "2019-05-30 23:59:59.999999"]]
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:48:49 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556687400", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-01 05:10:00"], ["kind", 0], ["created_at", "2024-08-13 13:48:49.407060"], ["updated_at", "2024-08-13 13:48:49.407060"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:48:49 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556715601", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-01 13:00:01"], ["kind", 1], ["created_at", "2024-08-13 13:48:49.408021"], ["updated_at", "2024-08-13 13:48:49.408021"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/reports/1/2019-05-01/2019-05-01" for 127.0.0.1 at 2024-08-13 16:48:49 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"2019-05-01", "to"=>"2019-05-01"}
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events" WHERE "events"."employee_id" = ? AND "events"."timestamp" BETWEEN ? AND ?[0m  [["employee_id", 1], ["timestamp", "2019-05-01 00:00:00"], ["timestamp", "2019-05-01 23:59:59.999999"]]
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:48:49 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-01 05:00:00"], ["kind", 0], ["created_at", "2024-08-13 13:48:49.410856"], ["updated_at", "2024-08-13 13:48:49.410856"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:48:49 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556715600", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-01 13:00:00"], ["kind", 1], ["created_at", "2024-08-13 13:48:49.411799"], ["updated_at", "2024-08-13 13:48:49.411799"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:48:49 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556773200", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-02 05:00:00"], ["kind", 0], ["created_at", "2024-08-13 13:48:49.412640"], ["updated_at", "2024-08-13 13:48:49.412640"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:48:49 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556802000", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-02 13:00:00"], ["kind", 1], ["created_at", "2024-08-13 13:48:49.413488"], ["updated_at", "2024-08-13 13:48:49.413488"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/reports/1/2019-05-01/2019-05-30" for 127.0.0.1 at 2024-08-13 16:48:49 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"2019-05-01", "to"=>"2019-05-30"}
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events" WHERE "events"."employee_id" = ? AND "events"."timestamp" BETWEEN ? AND ?[0m  [["employee_id", 1], ["timestamp", "2019-05-01 00:00:00"], ["timestamp", "2019-05-30 23:59:59.999999"]]
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:50:03 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.2ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-01 05:00:00"], ["kind", 0], ["created_at", "2024-08-13 13:50:03.771339"], ["updated_at", "2024-08-13 13:50:03.771339"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 29ms (Views: 0.1ms | ActiveRecord: 6.3ms (1 query, 0 cached) | GC: 23.8ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:50:03 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556802000", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-02 13:00:00"], ["kind", 1], ["created_at", "2024-08-13 13:50:03.773382"], ["updated_at", "2024-08-13 13:50:03.773382"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/reports/1/2019-05-01/2019-05-30" for 127.0.0.1 at 2024-08-13 16:50:03 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"2019-05-01", "to"=>"2019-05-30"}
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events" WHERE "events"."employee_id" = ? AND "events"."timestamp" BETWEEN ? AND ?[0m  [["employee_id", 1], ["timestamp", "2019-05-01 00:00:00"], ["timestamp", "2019-05-30 23:59:59.999999"]]
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:50:03 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-01 05:00:00"], ["kind", 0], ["created_at", "2024-08-13 13:50:03.778233"], ["updated_at", "2024-08-13 13:50:03.778233"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:50:03 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556715600", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-01 13:00:00"], ["kind", 1], ["created_at", "2024-08-13 13:50:03.779276"], ["updated_at", "2024-08-13 13:50:03.779276"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.1ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:50:03 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556773200", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-02 05:00:00"], ["kind", 0], ["created_at", "2024-08-13 13:50:03.780233"], ["updated_at", "2024-08-13 13:50:03.780233"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:50:03 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556802000", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-02 13:00:00"], ["kind", 1], ["created_at", "2024-08-13 13:50:03.781173"], ["updated_at", "2024-08-13 13:50:03.781173"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/reports/1/2019-05-01/2019-05-30" for 127.0.0.1 at 2024-08-13 16:50:03 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"2019-05-01", "to"=>"2019-05-30"}
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events" WHERE "events"."employee_id" = ? AND "events"."timestamp" BETWEEN ? AND ?[0m  [["employee_id", 1], ["timestamp", "2019-05-01 00:00:00"], ["timestamp", "2019-05-30 23:59:59.999999"]]
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:50:03 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-01 05:00:00"], ["kind", 0], ["created_at", "2024-08-13 13:50:03.783279"], ["updated_at", "2024-08-13 13:50:03.783279"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:50:03 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556773200", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-02 05:00:00"], ["kind", 0], ["created_at", "2024-08-13 13:50:03.784248"], ["updated_at", "2024-08-13 13:50:03.784248"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:50:03 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556802000", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-02 13:00:00"], ["kind", 1], ["created_at", "2024-08-13 13:50:03.785121"], ["updated_at", "2024-08-13 13:50:03.785121"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/reports/1/2019-05-01/2019-05-30" for 127.0.0.1 at 2024-08-13 16:50:03 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"2019-05-01", "to"=>"2019-05-30"}
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events" WHERE "events"."employee_id" = ? AND "events"."timestamp" BETWEEN ? AND ?[0m  [["employee_id", 1], ["timestamp", "2019-05-01 00:00:00"], ["timestamp", "2019-05-30 23:59:59.999999"]]
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:50:03 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556687400", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-01 05:10:00"], ["kind", 0], ["created_at", "2024-08-13 13:50:03.787173"], ["updated_at", "2024-08-13 13:50:03.787173"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:50:03 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556715601", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-01 13:00:01"], ["kind", 1], ["created_at", "2024-08-13 13:50:03.788287"], ["updated_at", "2024-08-13 13:50:03.788287"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/reports/1/2019-05-01/2019-05-01" for 127.0.0.1 at 2024-08-13 16:50:03 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"2019-05-01", "to"=>"2019-05-01"}
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events" WHERE "events"."employee_id" = ? AND "events"."timestamp" BETWEEN ? AND ?[0m  [["employee_id", 1], ["timestamp", "2019-05-01 00:00:00"], ["timestamp", "2019-05-01 23:59:59.999999"]]
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:50:08 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "kind"=>"bad", "timestamp"=>"1723557008"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
Completed 500 Internal Server Error in 30ms (ActiveRecord: 0.2ms (0 queries, 0 cached) | GC: 25.5ms)
  
ArgumentError ('bad' is not a valid kind):
  
app/controllers/events_controller.rb:5:in `save'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:50:08 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "kind"=>"in", "timestamp"=>"bad"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.2ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", 0], ["created_at", "2024-08-13 13:50:08.254699"], ["updated_at", "2024-08-13 13:50:08.254699"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:50:08 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "kind"=>"in", "timestamp"=>nil}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", 0], ["created_at", "2024-08-13 13:50:08.256641"], ["updated_at", "2024-08-13 13:50:08.256641"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:50:08 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"bad", "kind"=>"in", "timestamp"=>"1723557008"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:50:08 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "kind"=>nil, "timestamp"=>"1723557008"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2024-08-13 13:50:08"], ["kind", nil], ["created_at", "2024-08-13 13:50:08.259227"], ["updated_at", "2024-08-13 13:50:08.259227"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:50:08 +0300
Processing by EventsController#save as HTML
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:50:08 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>nil, "kind"=>"in", "timestamp"=>"1723557008"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started GET "/reports/bad/2019-01-01/2019-02-02" for 127.0.0.1 at 2024-08-13 16:50:08 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"bad", "from"=>"2019-01-01", "to"=>"2019-02-02"}
Completed 400 Bad Request in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.1ms)
Started GET "/reports/1/2019-01-01/bad" for 127.0.0.1 at 2024-08-13 16:50:08 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"2019-01-01", "to"=>"bad"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started GET "/reports/1/bad/2019-01-01" for 127.0.0.1 at 2024-08-13 16:50:08 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"bad", "to"=>"2019-01-01"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:50:08 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556687400", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-01 05:10:00"], ["kind", 0], ["created_at", "2024-08-13 13:50:08.267030"], ["updated_at", "2024-08-13 13:50:08.267030"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:50:08 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556715601", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-01 13:00:01"], ["kind", 1], ["created_at", "2024-08-13 13:50:08.268051"], ["updated_at", "2024-08-13 13:50:08.268051"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.1ms)
Started GET "/reports/1/2019-05-01/2019-05-01" for 127.0.0.1 at 2024-08-13 16:50:08 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"2019-05-01", "to"=>"2019-05-01"}
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events" WHERE "events"."employee_id" = ? AND "events"."timestamp" BETWEEN ? AND ?[0m  [["employee_id", 1], ["timestamp", "2019-05-01 00:00:00"], ["timestamp", "2019-05-01 23:59:59.999999"]]
Completed 200 OK in 2ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:50:08 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-01 05:00:00"], ["kind", 0], ["created_at", "2024-08-13 13:50:08.271402"], ["updated_at", "2024-08-13 13:50:08.271402"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:50:08 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556715600", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-01 13:00:00"], ["kind", 1], ["created_at", "2024-08-13 13:50:08.272408"], ["updated_at", "2024-08-13 13:50:08.272408"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.1ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:50:08 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556773200", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-02 05:00:00"], ["kind", 0], ["created_at", "2024-08-13 13:50:08.273394"], ["updated_at", "2024-08-13 13:50:08.273394"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:50:08 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556802000", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-02 13:00:00"], ["kind", 1], ["created_at", "2024-08-13 13:50:08.274211"], ["updated_at", "2024-08-13 13:50:08.274211"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.1ms)
Started GET "/reports/1/2019-05-01/2019-05-30" for 127.0.0.1 at 2024-08-13 16:50:08 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"2019-05-01", "to"=>"2019-05-30"}
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events" WHERE "events"."employee_id" = ? AND "events"."timestamp" BETWEEN ? AND ?[0m  [["employee_id", 1], ["timestamp", "2019-05-01 00:00:00"], ["timestamp", "2019-05-30 23:59:59.999999"]]
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:50:08 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-01 05:00:00"], ["kind", 0], ["created_at", "2024-08-13 13:50:08.276698"], ["updated_at", "2024-08-13 13:50:08.276698"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:50:08 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556773200", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-02 05:00:00"], ["kind", 0], ["created_at", "2024-08-13 13:50:08.277730"], ["updated_at", "2024-08-13 13:50:08.277730"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:50:08 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556802000", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-02 13:00:00"], ["kind", 1], ["created_at", "2024-08-13 13:50:08.278559"], ["updated_at", "2024-08-13 13:50:08.278559"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/reports/1/2019-05-01/2019-05-30" for 127.0.0.1 at 2024-08-13 16:50:08 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"2019-05-01", "to"=>"2019-05-30"}
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events" WHERE "events"."employee_id" = ? AND "events"."timestamp" BETWEEN ? AND ?[0m  [["employee_id", 1], ["timestamp", "2019-05-01 00:00:00"], ["timestamp", "2019-05-30 23:59:59.999999"]]
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:50:08 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-01 05:00:00"], ["kind", 0], ["created_at", "2024-08-13 13:50:08.280746"], ["updated_at", "2024-08-13 13:50:08.280746"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:50:08 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556802000", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-02 13:00:00"], ["kind", 1], ["created_at", "2024-08-13 13:50:08.281689"], ["updated_at", "2024-08-13 13:50:08.281689"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/reports/1/2019-05-01/2019-05-30" for 127.0.0.1 at 2024-08-13 16:50:08 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"2019-05-01", "to"=>"2019-05-30"}
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events" WHERE "events"."employee_id" = ? AND "events"."timestamp" BETWEEN ? AND ?[0m  [["employee_id", 1], ["timestamp", "2019-05-01 00:00:00"], ["timestamp", "2019-05-30 23:59:59.999999"]]
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (9.2ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started GET "/reports/1/bad/2019-01-01" for 127.0.0.1 at 2024-08-13 16:53:47 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"bad", "to"=>"2019-01-01"}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  
ArgumentError (wrong number of arguments (given 1, expected 0)):
  
app/controllers/reports_controller.rb:5:in `initialize'
app/controllers/reports_controller.rb:5:in `new'
app/controllers/reports_controller.rb:5:in `get'
Started GET "/reports/1/2019-01-01/bad" for 127.0.0.1 at 2024-08-13 16:53:47 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"2019-01-01", "to"=>"bad"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  
ArgumentError (wrong number of arguments (given 1, expected 0)):
  
app/controllers/reports_controller.rb:5:in `initialize'
app/controllers/reports_controller.rb:5:in `new'
app/controllers/reports_controller.rb:5:in `get'
Started GET "/reports/bad/2019-01-01/2019-02-02" for 127.0.0.1 at 2024-08-13 16:53:47 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"bad", "from"=>"2019-01-01", "to"=>"2019-02-02"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  
ArgumentError (wrong number of arguments (given 1, expected 0)):
  
app/controllers/reports_controller.rb:5:in `initialize'
app/controllers/reports_controller.rb:5:in `new'
app/controllers/reports_controller.rb:5:in `get'
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:53:47 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "kind"=>"in", "timestamp"=>nil}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", 0], ["created_at", "2024-08-13 13:53:47.445148"], ["updated_at", "2024-08-13 13:53:47.445148"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.4ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:53:47 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>nil, "kind"=>"in", "timestamp"=>"1723557227"}
Completed 400 Bad Request in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:53:47 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "kind"=>"in", "timestamp"=>"bad"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", 0], ["created_at", "2024-08-13 13:53:47.448504"], ["updated_at", "2024-08-13 13:53:47.448504"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:53:47 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "kind"=>nil, "timestamp"=>"1723557227"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2024-08-13 13:53:47"], ["kind", nil], ["created_at", "2024-08-13 13:53:47.450034"], ["updated_at", "2024-08-13 13:53:47.450034"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:53:47 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "kind"=>"bad", "timestamp"=>"1723557227"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  
ArgumentError ('bad' is not a valid kind):
  
app/controllers/events_controller.rb:5:in `save'
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:53:47 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"bad", "kind"=>"in", "timestamp"=>"1723557227"}
Completed 400 Bad Request in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:53:47 +0300
Processing by EventsController#save as HTML
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:53:47 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.2ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-01 05:00:00"], ["kind", 0], ["created_at", "2024-08-13 13:53:47.555067"], ["updated_at", "2024-08-13 13:53:47.555067"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:53:47 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556802000", "kind"=>"out"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.3ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-02 13:00:00"], ["kind", 1], ["created_at", "2024-08-13 13:53:47.556156"], ["updated_at", "2024-08-13 13:53:47.556156"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.1ms)
Started GET "/reports/1/2019-05-01/2019-05-30" for 127.0.0.1 at 2024-08-13 16:53:47 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"2019-05-01", "to"=>"2019-05-30"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  
ArgumentError (wrong number of arguments (given 1, expected 0)):
  
app/controllers/reports_controller.rb:5:in `initialize'
app/controllers/reports_controller.rb:5:in `new'
app/controllers/reports_controller.rb:5:in `get'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:53:47 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.4ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-01 05:00:00"], ["kind", 0], ["created_at", "2024-08-13 13:53:47.635070"], ["updated_at", "2024-08-13 13:53:47.635070"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.4ms (1 query, 0 cached) | GC: 0.2ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:53:47 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556715600", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-01 13:00:00"], ["kind", 1], ["created_at", "2024-08-13 13:53:47.636986"], ["updated_at", "2024-08-13 13:53:47.636986"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:53:47 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556773200", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-02 05:00:00"], ["kind", 0], ["created_at", "2024-08-13 13:53:47.638431"], ["updated_at", "2024-08-13 13:53:47.638431"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:53:47 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556802000", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.3ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-02 13:00:00"], ["kind", 1], ["created_at", "2024-08-13 13:53:47.639388"], ["updated_at", "2024-08-13 13:53:47.639388"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.1ms)
Started GET "/reports/1/2019-05-01/2019-05-30" for 127.0.0.1 at 2024-08-13 16:53:47 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"2019-05-01", "to"=>"2019-05-30"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  
ArgumentError (wrong number of arguments (given 1, expected 0)):
  
app/controllers/reports_controller.rb:5:in `initialize'
app/controllers/reports_controller.rb:5:in `new'
app/controllers/reports_controller.rb:5:in `get'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:53:47 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556687400", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.2ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-01 05:10:00"], ["kind", 0], ["created_at", "2024-08-13 13:53:47.719412"], ["updated_at", "2024-08-13 13:53:47.719412"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.1ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:53:47 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556715601", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-01 13:00:01"], ["kind", 1], ["created_at", "2024-08-13 13:53:47.720747"], ["updated_at", "2024-08-13 13:53:47.720747"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.1ms)
Started GET "/reports/1/2019-05-01/2019-05-01" for 127.0.0.1 at 2024-08-13 16:53:47 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"2019-05-01", "to"=>"2019-05-01"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  
ArgumentError (wrong number of arguments (given 1, expected 0)):
  
app/controllers/reports_controller.rb:5:in `initialize'
app/controllers/reports_controller.rb:5:in `new'
app/controllers/reports_controller.rb:5:in `get'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:53:47 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.2ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-01 05:00:00"], ["kind", 0], ["created_at", "2024-08-13 13:53:47.798551"], ["updated_at", "2024-08-13 13:53:47.798551"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:53:47 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556773200", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-02 05:00:00"], ["kind", 0], ["created_at", "2024-08-13 13:53:47.799922"], ["updated_at", "2024-08-13 13:53:47.799922"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.1ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:53:47 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556802000", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-02 13:00:00"], ["kind", 1], ["created_at", "2024-08-13 13:53:47.800880"], ["updated_at", "2024-08-13 13:53:47.800880"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/reports/1/2019-05-01/2019-05-30" for 127.0.0.1 at 2024-08-13 16:53:47 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"2019-05-01", "to"=>"2019-05-30"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  
ArgumentError (wrong number of arguments (given 1, expected 0)):
  
app/controllers/reports_controller.rb:5:in `initialize'
app/controllers/reports_controller.rb:5:in `new'
app/controllers/reports_controller.rb:5:in `get'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1[0m  [[nil, "schema_sha1"]]
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mTRUNCATE TABLE "events"[0m
  [1m[35m (0.1ms)[0m  [1m[31mDELETE FROM "events"[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT name FROM sqlite_master WHERE type='table' AND name='sqlite_sequence';[0m
  [1m[35m (0.0ms)[0m  [1m[31mDELETE FROM sqlite_sequence where name = 'events';[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:53:51 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-01 05:00:00"], ["kind", 0], ["created_at", "2024-08-13 13:53:51.992134"], ["updated_at", "2024-08-13 13:53:51.992134"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:53:51 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556773200", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-02 05:00:00"], ["kind", 0], ["created_at", "2024-08-13 13:53:51.994050"], ["updated_at", "2024-08-13 13:53:51.994050"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:53:51 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556802000", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-02 13:00:00"], ["kind", 1], ["created_at", "2024-08-13 13:53:51.994989"], ["updated_at", "2024-08-13 13:53:51.994989"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/reports/1/2019-05-01/2019-05-30" for 127.0.0.1 at 2024-08-13 16:53:51 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"2019-05-01", "to"=>"2019-05-30"}
  [1m[36mEvent Load (0.1ms)[0m  [1m[34mSELECT "events".* FROM "events" WHERE "events"."employee_id" = ? AND "events"."timestamp" BETWEEN ? AND ?[0m  [["employee_id", 1], ["timestamp", "2019-05-01 00:00:00"], ["timestamp", "2019-05-30 23:59:59.999999"]]
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 5.5ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:53:52 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-01 05:00:00"], ["kind", 0], ["created_at", "2024-08-13 13:53:52.005136"], ["updated_at", "2024-08-13 13:53:52.005136"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:53:52 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556802000", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-02 13:00:00"], ["kind", 1], ["created_at", "2024-08-13 13:53:52.006222"], ["updated_at", "2024-08-13 13:53:52.006222"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/reports/1/2019-05-01/2019-05-30" for 127.0.0.1 at 2024-08-13 16:53:52 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"2019-05-01", "to"=>"2019-05-30"}
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events" WHERE "events"."employee_id" = ? AND "events"."timestamp" BETWEEN ? AND ?[0m  [["employee_id", 1], ["timestamp", "2019-05-01 00:00:00"], ["timestamp", "2019-05-30 23:59:59.999999"]]
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.1ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:53:52 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556687400", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.2ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-01 05:10:00"], ["kind", 0], ["created_at", "2024-08-13 13:53:52.008441"], ["updated_at", "2024-08-13 13:53:52.008441"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.1ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:53:52 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556715601", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-01 13:00:01"], ["kind", 1], ["created_at", "2024-08-13 13:53:52.009447"], ["updated_at", "2024-08-13 13:53:52.009447"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started GET "/reports/1/2019-05-01/2019-05-01" for 127.0.0.1 at 2024-08-13 16:53:52 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"2019-05-01", "to"=>"2019-05-01"}
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events" WHERE "events"."employee_id" = ? AND "events"."timestamp" BETWEEN ? AND ?[0m  [["employee_id", 1], ["timestamp", "2019-05-01 00:00:00"], ["timestamp", "2019-05-01 23:59:59.999999"]]
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:53:52 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556686800", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-01 05:00:00"], ["kind", 0], ["created_at", "2024-08-13 13:53:52.011498"], ["updated_at", "2024-08-13 13:53:52.011498"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:53:52 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556715600", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-01 13:00:00"], ["kind", 1], ["created_at", "2024-08-13 13:53:52.012399"], ["updated_at", "2024-08-13 13:53:52.012399"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:53:52 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556773200", "kind"=>"in"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-02 05:00:00"], ["kind", 0], ["created_at", "2024-08-13 13:53:52.013286"], ["updated_at", "2024-08-13 13:53:52.013286"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:53:52 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "timestamp"=>"1556802000", "kind"=>"out"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2019-05-02 13:00:00"], ["kind", 1], ["created_at", "2024-08-13 13:53:52.014191"], ["updated_at", "2024-08-13 13:53:52.014191"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.1ms)
Started GET "/reports/1/2019-05-01/2019-05-30" for 127.0.0.1 at 2024-08-13 16:53:52 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"2019-05-01", "to"=>"2019-05-30"}
  [1m[36mEvent Load (0.0ms)[0m  [1m[34mSELECT "events".* FROM "events" WHERE "events"."employee_id" = ? AND "events"."timestamp" BETWEEN ? AND ?[0m  [["employee_id", 1], ["timestamp", "2019-05-01 00:00:00"], ["timestamp", "2019-05-30 23:59:59.999999"]]
Completed 200 OK in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
Started GET "/reports/1/bad/2019-01-01" for 127.0.0.1 at 2024-08-13 16:53:52 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"bad", "to"=>"2019-01-01"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started GET "/reports/bad/2019-01-01/2019-02-02" for 127.0.0.1 at 2024-08-13 16:53:52 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"bad", "from"=>"2019-01-01", "to"=>"2019-02-02"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started GET "/reports/1/2019-01-01/bad" for 127.0.0.1 at 2024-08-13 16:53:52 +0300
Processing by ReportsController#get as HTML
  Parameters: {"employee_id"=>"1", "from"=>"2019-01-01", "to"=>"bad"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:53:52 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "kind"=>"bad", "timestamp"=>"1723557232"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
  
ArgumentError ('bad' is not a valid kind):
  
app/controllers/events_controller.rb:5:in `save'
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:53:52 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"bad", "kind"=>"in", "timestamp"=>"1723557232"}
Completed 400 Bad Request in 1ms (Views: 0.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:53:52 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "kind"=>"in", "timestamp"=>"bad"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.2ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", 0], ["created_at", "2024-08-13 13:53:52.142994"], ["updated_at", "2024-08-13 13:53:52.142994"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:53:52 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "kind"=>"in", "timestamp"=>nil}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "1970-01-01 00:00:00"], ["kind", 0], ["created_at", "2024-08-13 13:53:52.144445"], ["updated_at", "2024-08-13 13:53:52.144445"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.2ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:53:52 +0300
Processing by EventsController#save as HTML
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:53:52 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>nil, "kind"=>"in", "timestamp"=>"1723557232"}
Completed 400 Bad Request in 0ms (Views: 0.0ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)
Started POST "/events" for 127.0.0.1 at 2024-08-13 16:53:52 +0300
Processing by EventsController#save as HTML
  Parameters: {"employee_id"=>"1", "kind"=>nil, "timestamp"=>"1723557232"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mEvent Create (0.1ms)[0m  [1m[32mINSERT INTO "events" ("employee_id", "timestamp", "kind", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?) RETURNING "id"[0m  [["employee_id", 1], ["timestamp", "2024-08-13 13:53:52"], ["kind", nil], ["created_at", "2024-08-13 13:53:52.148327"], ["updated_at", "2024-08-13 13:53:52.148327"]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 1ms (Views: 0.0ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mrollback transaction[0m
